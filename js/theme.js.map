{"version":3,"sources":["accessibility.js","search.js","tinyDrawer.js","leader-line.js","theme.js"],"names":["init","buttons","document","querySelectorAll","i","length","dataset","addEventListener","toggleHandler","buttonHandler","links","querySelector","classList","contains","window","event","code","click","target","hasAttribute","location","getAttribute","targetElement","type","toggleButtonState","force","setAttribute","searchFieldInit","data","fields","options","start","performance","now","dataIndex","FlexSearchOptions","doc","id","field","FlexSearch","add","console","debug","msToTime","error","Error","debounce","search","srcElement","value","then","results","renderResults","style","setProperty","removeProperty","searchPageInit","query","title","date","categories","tags","content","categoriesSelector","on","option","selected","push","splice","indexOf","tagsSelector","index","where","limitSearch","contentIndex","profile","encode","tokenize","cache","async","fieldQuery","bool","slice","state","d1","d2","Date","getFullYear","getMonth","getDate","every","v","taxonomy","includes","innerHTML","paragraph","createElement","appendChild","createTextNode","ScholarTranslation","SEARCH","EMPTY","item","template","importNode","textContent","url","GENERIC","AT","renderTime","renderTaxonomy","IN","WITH","normalize","anchor","time","dayjs","format","toDayJSFormat","systemDateformat","short","name","separator","String","split","n","func","delay","inDebounce","context","args","arguments","clearTimeout","setTimeout","apply","throttle","limit","lastFunc","lastRan","toMomentFormat","conversions","d","D","j","l","N","S","w","z","W","F","m","M","t","L","o","Y","y","a","A","B","g","G","h","H","s","u","e","I","O","P","T","Z","c","r","U","items","momentFormat","millisec","milliseconds","toFixed","seconds","minutes","hours","days","TinyDrawer","Object","assign","defaults","setup","replacement","drawerSelector","elementDrawer","nodeType","Node","ELEMENT_NODE","backdropAdd","activeUnset","elementOpen","elementClose","Scholar","tinyDrawerObj","elementBackdrop","observer","MutationObserver","mutations","forEach","mutation","tinyDrawerOpen","tinyDrawerClose","observe","attributes","body","offsets","getBoundingClientRect","top","element","activeSet","offsetTopToVariable","callback","scrollTo","Math","abs","backdrop","action","load","open","close","linksTo","JSON","parse","line","LeaderLine","getElementById","color","sections","dimensions","computedStyles","getComputedStyle","shadow","position","right","bottom","left","width","height","backgroundColor","getPropertyValue","append","module","hot","accept"],"mappings":";;;;;;AIKA;;AHLA,AGKA;ADLA,ACKA,SDLSA,IAAT,GAAgB;AHAhB,AGCE,ACIF,MDJQU,KAAK,GAAGR,QAAQ,CAACC,gBAAT,CAA0B,iBAA1B,CAAd;ACIF;ADHE,ACGF,MDHMO,KAAK,CAACL,MAAN,GAAe,CAAnB,EAAsB;AHCxB,AGAI,AFEJ,AGAA,SJFSL,AGAA,AFEA2B,IDFT,AGAavB,CAAC,EHAE,CGAC,CAAb,EAAgBA,CAAC,GAAGM,AFExB,CAAyBkB,IEFI,AFE7B,CEF8BvB,CFECwB,KEF3B,CFEJ,CEFsCzB,CAAC,AFEA0B,EEFnC,EAAuC,GFE3C,EAAgD;ADD9C,AGAI,AFEJ,AGDF,MJDQ7B,ACEA8B,IEFErB,CFEG,EDFE,CCECsB,CEFD,CHAG9B,AGAFE,CAAD,CAAL,CAASE,KHAO,CAACH,ACEA,CEFjB,AFEkB8B,CEFDmM,EFEX,EAAd,GEFQ,CAAyB/N,MHAjB,AGAR,CHAkC,EGAA,CAAtC,EAAyC,YHA7B,CAAhB;AGCM,AFEN,AGFF,MHEM6B,SAAJ;ADFA,AGCK,AFEL,AGHF,AFLA,MDQQC,CDHD,IAAI/B,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGH,CCGG,GAAG6B,GDHC,CAACzB,GCG5B,GDHA,EAAoC,EAAED,CAAtC,EAAyC;AACvC,ACGF+B,EAAAA,MDHM,WCGW,CDHClC,ACGAmC,GAAlB,GAAwB,CDHC,CAAChC,CAAD,CAAP,CAAWE,OAA3B,EAAoC;AAClCL,AGAA,AFGFoC,AGJJ,IHIIA,EDHEpC,ACGA,EAAE,EEHImO,GHAC,ACEa,CDFZhO,CAAD,CAAP,CAAWG,AGAE,GAAG8N,IAAI,CAACC,KAAL,CAAW5N,EHA3B,CAA4B,EGAI,CAACN,CAAD,CAAL,CAASE,CHApC,EAAqCE,IGAV,CAAiB4N,OAA5B,CHAhB,AGAA;AHCAnO,ACGFqC,IAAAA,EDHErC,GCGG,EAAE4B,EDHE,CAACzB,CAAD,CAAP,CAAWG,gBAAX,CAA4B,SAA5B,EAAuCC,aAAvC;AACAP,AGDA,AFCoB,AGH1B,GHGE,GDAIA,IGDI,GHCG,CAACG,CAAD,CAAP,CAAWG,CGDA6N,OAAP,KAAkB,GHC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rBR,CADF,CCoBN,CDlBQ,CCoByB,OAFjC;ADjBQxB,AGCL,AFmBHA,AGvDN,MHuDMA,MDpBQA,ECoBA,CACLS,KDrBa,CACLA,OCmBX,CACiB,KDrBT,CACiB,aCmBzB,EAEG0C,KAFH,CAESE,cAFT,CAEwB,GDtBhB,EAEGtC,ICkBX,CDpBQ;AAGD,AGDN,AFqBF,AG1DL,KH+CI,uBChCM;ACuBL,AFqBF,AG3DH,AFgBI,GDAF,CA2CE,OAAO2B,AC3CFoJ,KD2CL,EAAc,MC3Cd,GAAqB9L,QAAQ,CAACS,aAAT,CAAuB,KAAKgJ,CAAL,CAAOoC,cAA9B,CAArB;AFuBQ,ACqBR,AG5DJ,UH4DU,IAAIlJ,KAAJ,CAAUD,KAAV,CAAN;ADvCI,AGmBJ,AFqBD,AG7DH,AFiBI,QCuBM+L,EDtBJ,CAAC,KCsBW,ADtBN3C,GCsBS9L,QAAQ,CAACC,CDtBxB,IACA,KAAK6L,MCqBU,CACf,MDtBA,CAAmBC,QAAnB,KAAgCC,IAAI,CAACC,WCqBtB,CAAjB,ADvBA,EAGE;AFqBC,ACqBN,ACzCK,KFHF,EAwBE,IAxBF;AA0BD,AGDC,AFqBJ,AGxEA,AF8BK,QCqBGwC,QAAQ,CAACtO,MAAT,GAAkB,CAAtB,EAAyB;AHE5B,AGDK,ACnDN,WDmDW,IAAID,EAAC,GAAG,CAAb,EAAgBA,EAAC,GAAGuO,QAAQ,CAACtO,MAA7B,EAAqCD,EAAC,EAAtC,EAA0C;AHGhD,AGFQ,ACnDR,AF6BI,WAAKgM,CCsBKwC,UAAU,ADtBpB,GCsBuBD,QAAQ,CAACvO,EAAD,CAAR,CAAYkN,qBAAZ,EAAnB;AClDR,AF6BI,WAAKjB,WAAL;ACsBI,AC5CR,AFuBI,WAAKC,CCqBKuC,UDrBV,GAAmB3O,CCqBK,GAAGY,IDrBA,CAACX,CCqBK,CAAC2O,cDrBf,CACjB,CCoByB,CAAwBH,QAAQ,CAACvO,ADpB/C,ECoB8C,CAAhC,CAAvB,CDpBcuJ,CAAL,CAAOmC,WAAlB,GAAgC,QADf,CAAnB;ACsBI,AC5CR,AFyBI,IEzBA2D,MAAM,CFyBDlD,CCmBGwC,EC5CEU,ID4CI,EC5CE,CD4CCvP,AC5CAwP,EFyBjB,CEzBJ,EAA0B,AFyBFxP,GCmBK,CAAC8F,IDnBE,CAAC7F,QCmBZ,CAAuB,KAAvB,CAAb,CDnBgB,CAClB,WACE,KAAKwJ,CAAL,CAAOmC,WADT,GAEE,oBAFF,GAGE,KAAKnC,CAAL,CAAOmC,WAHT,GAIE,SALgB,CAApB;ACoBIiD,AC5CNU,AF+BE3O,EE/BF2O,IF+BE3O,ECaIiO,AC5CA,CAACW,GAAP,AF+BQ,CE/BGC,AF+BFpP,CCaG,CAAC8C,IC5Cb,CD4CM,CAAa2L,QAAb,ADbJ,CACE,ECY0B,ODb5B,EAEE,CCWE,SDXOjO,KAAT,EAAgB;AFatB,AGDQgO,AFoBR,AGhEC,AFiCO,QCWAA,CHCCtO,ACmBA+C,KEpBK,CAACH,CDXCtC,ICWR,CAAawM,ADXA,CFYrB,AEZsBvM,CFYCD,ACmBvB,CEpBQ,AFoBgBa,EC/BhB,CCWmBgN,CHC3B,ACmBA,EDnB8B,ACmBA/M,MAA9B,CEpBqC,CAAC0L,AFoBAzL,GEpBX,GAAiB,CFoB5C,EAA+C,CEpBvC;AHEN,AGDMiN,AFoBN,AC/BQ,MFYJhO,ACmBEgB,EEpBAgN,GHCG,ACmBE,CDnBD7N,EGDE,AFoBEc,CEpBDqB,ADXA,GFYT,CAAalC,CGDX,CAAa8N,EDXX,ED+BiB,CEpBnB,AFoBoBhN,GEpBC2M,AFoBb,EDnBV,ACmBJ,CDnB8B,MAA1B,CAAJ,AGDqC,CAACK,CHCC,IGDZ,GAAmB,IAAxC;AHEJ,AGDIF,AFoBN,AC/BU,MD+BN7M,EEpBE6M,IHCIhO,EGDE,CAACsC,AFoBb,CC9BYmJ,CFWG,CAACxL,EGDV,CAAakO,CHCjB,CEXiB,CAACzC,GCUd,GAAsBmC,ODVhB,CAAsB5C,ECUI,CAACkD,MAAX,GAAoB,CDVpC,CAAoC7N,ECU1C,UDVM,CACE,cADF,MAEM,MAHR,EAIE;AFSR,AGDE0N,AFoBN,AC3BYvC,MD2BNrK,EEpBA4M,GHCG,GGDG,ADPAvC,CCOCnJ,GHCT,EGDE,CAAa8L,ADPA,CAAC3N,CD2BG,EEpBjB,CFoBoBM,EEpBA8M,KFoB1B,KEpBoC,CAACO,ADPzB,CACE3C,GCMY,GAAkB,CDNvB,CAACC,ECMhB,WDNQ,CAAsBT,aADxB,EAEE,OAFF;AFSNjL,AGDAgO,AFoBN5M,ACxBW,EDwBXA,MDnBMpB,AGDAgO,KHCK,CAAC7N,AGDA,CAACmC,IFoBI,CDnBX,AGDA,AFoBYjB,CDnBCnB,AGDAmO,EFoBnB,GDnBM,AGDA,AFoBkB,GEpBGR,UAAU,CAACQ,KAAX,GAAmB,IAAxC;AHEAtO,AGDAiO,AFoBJ1M,IAAAA,EAAE,EDnBEvB,AGDAiO,AFoBA,KADkB,CDlBZ,AGDA,CHCC3N,AGDAiC,KAAP,CAAagM,EHCb,GAAkBtO,CGDlB,GAAsB6N,CHCC,CAAC1N,MAAN,CAAaG,CGDC,CAACgO,MAAX,GAAoB,CHCxB,CAA0B,EGD5C,IHCkB,CAAlB;AACA,AGDAN,AFoBJzM,ACzBQ,IDyBRA,IEpBIyM,CFoBC,EAAElN,GEpBG,CAACwB,KAAP,CAAaiM,eAAb,GAA+BT,cAAc,CAACU,gBAAf,CAC7B,kBAD6B,CAA/B;AAGAZ,AFekB,ACnClB,GDmCN,KEfMA,QAAQ,CAACvO,EAAD,CAAR,CAAYiD,KAAZ,CAAkBiM,eAAlB,GAAoC,aAApC;AHDF,AGEEpP,AFkBN,ACzBK,MDyBCuD,CC1CJ,CCwBIvD,CDNF,EFIK,ACoBE,EC1CT,CD0CY,EElBA,CAACS,CHFX,YGEE,CAAuB,wBAAvB,EAAiD6O,MAAjD,CAAwDT,MAAxD;AHDAhO,AGED,AFkBH2C,ACvBA,IDuBAA,IDpBI3C,CCoBC,EAAE,ACvBF2L,EFGI,ACmBG,CDnBFxL,MAAN,CAAaD,KAAb,AEHJ,CAAqBV,gBAArB,CACE,OADF,EAEE,UAASQ,KAAT,EAAgB;AFEdD,AGEH,AFkBD6C,ACrBI,IDqBJA,IDpBI7C,ACoBA,EAAE,EAFM,AClBN0L,EFAI,CAACpL,IEAE,CAACqL,GFAV,GAAkB1L,KAAK,CAACG,CEAtB,CAAsB8K,IFAN,CAAa3K,QEA7B,CAAoCA,GFApB,CAA0B,MAA1B,CAAlB,CEAE,CAAiD,cAAjD,MACA,MAFF,EAGE;AFDF,ACoBJuC,AClBM4I,IDkBN5I,MClBM4I,IDkBI,EAAE,CClBC,CDeD,ACfEhL,iBAAR,CACEgL,OAAO,CAACC,aAAR,CAAsBT,aADxB,EAEE,OAFF;AFVN,AGUA9L,AFmBA2D,ACfK,ICJL3D,AFmBA2D,IAAI,EAAE,EEnBE,AFeI,CEfH1D,gBAAT,CAA0B,cAA1B,EAA0C2M,OAA1C,CAAkD,UAAAyB,IAAI,EAAI;AHA3D,AGCGrO,AFmBF4D,ACfG,IDeHA,EEnBE5D,CDRF,EAaE,EDcK,EAAE,AC3BT,CCQU,CAACS,aAAT,CAAuB,wBAAvB,EAAiD6O,MAAjD,CAAwDjB,IAAxD;AHAL,AGCI,AFaW,ACPZ,GDOF,EEfE,MDQK5B,QAAL,GAAgB,IAAIC,gBAAJ,CAAqB,UAASC,SAAT,EAAoB;AFL7D,AGAG,ADMGA,QAAAA,SAAS,CAACC,OAAV,CAAkB,UAASC,QAAT,EAAmB;ACL1C,AFkBC,ACZM,MDYF,QCZMA,QAAQ,CAACxL,IAAT,IAAiB,YAArB,EAAmC;ADavCW,ACZM,IDYNA,SAAS,GAAG,ACZF6K,IDYMxK,ICZE,CAACrB,KDYP,CAAeiB,ACZjB,CAAgBd,YAAhB,CAA6B,GDY3B,CAAZ,UCZU,MAAiD,MAArD,EAA6D;ADanEa,ACZQsK,IDYRtK,SAAS,CAACM,ACZFgK,GDYR,CAAc5K,GCZC,CDYf,ACZgBoL,cAAR,CAAuBD,QAAQ,CAAC7L,MAAhC;ADaRuB,ACZO,IDYPA,OAAO,CAACC,CCdF,IDcN,ECZa,IAAIqK,QAAQ,CAAC7L,MAAT,CAAgBG,QDaTO,IAAI,ACbX,CDaYvB,ACbiB,MDY9C,QCZiB,MAAiD,EDazBsC,KCb5B,EAA8D,CDa1B,CAC7CX,WAAW,CAACC,GAAZ,KAAoBF,KADyB,CADjD;ADnBJ,ACwBG,AChBSyK,GDQV,CAQE,KDxBKhM,ECwBEoC,GChBC4J,EDgBR,EAAc,GChBC,CFRnB,AEQoBS,CFRGlM,KAAvB,EAA8B,OEQlB,CAAwBgM,QAAQ,CAAC7L,MAAjC;AFPV,ACwBE,AChBO,MFRHI,ICwBE,IAAIuB,KDxBO,ACwBX,CAAUD,EDxBI1C,GCwBd,CAAN,IDxB4B,CAACS,aAAT,CAAuBI,KAAK,CAACG,MAAN,CAAaZ,OAAb,CAAqBY,MAA5C,CAAtB;ACyBC,AChBM;AFRP,AESK,MFTDH,GECA,EFDK,CAACQ,IAAN,KAAe,OAAnB,EAA4B;AAC1BC,ACwBF,ACfG,IFTDA,ECwBE,CCzBc,CAAhB,aFCiB,CAACF,aAAD,CAAjB;AACD,ACwBCpB,ACfA,GFXF,CC0BEA,KDxBK,EESAyM,CDeG,CDxBC5L,ACwBAJ,KDxBK,CAACY,AESf,CAAc2L,GFTL,GCwBT,CAAuB,ACfvB,CFTwB,AESF,KAAKlB,IFTtB,EAA8B,OESnC,EAA0C,CDe1C,EAA+CzL,gBAA/C,CACE,OADF,EAEEuC,QAAQ,CAAC,UAAS/B,KAAT,EAAgB;ADzB3B,AC0BI0C,ACjBF0J,MDiBE1J,ECjBF0J,GDiBO,CD1BDpM,AC0BE2C,KD1BG,AC0BT,CD1BU1C,AESF,EDiBMD,ACjBJ,EFTd,GC0BuB,CAACiC,UAAN,CAAiBC,KAA/B;ADzBF,AC0BEF,ACnBsC,MDmBtCA,CCnBJ,IFPO,CC0BG,CAACb,KD1BT,IC0BQ,EAAYL,MAAZ,EAAoB4B,KAApB,CAAN;ADzBAjC,AC0BD,ACjBJ,KDcW,EAGL,CD1BDA,ECuBM,CAFV,cDrBqB,CAACF,aAAD,CAAjB;AACA,AC2BJpB,IAAAA,QAAQ,CACLS,aADH,CACiB,qBADjB,EAEGJ,gBAFH,CAEoB,QAFpB,EAE8B,UAASQ,KAAT,EAAgB;AAC1C0C,MAAAA,KAAK,CAACE,IAAN,GAAa5C,KAAK,CAACiC,UAAN,CAAiBC,KAA9B;AD7BF,AC8BEF,MAAAA,KD9BG,CC8BG,CAACb,KD9BT,IC8BQ,EAAYL,MAAZ,EAAoB4B,ECrBlB,GDqBF,CAAN;AD7BAjC,AC8BD,ACrBHtB,KDgBA,CChBAA,EFTIsB,MESI,CAAC4L,IAAT,CAAc9M,KFTO,CAACgB,CEStB,CAAsB,KAAKqI,CAAL,CAAOmC,IFTR,CAAjB,MESJ,IAA4C,EAA5C;AFRI,AESL;ADqBC,QAAI,OAAO/H,kBAAP,KAA8B,WAAlC,EAA+C;AD7B7C,AC8BAA,MAAAA,KD9BK,QAAL,KC8BkB,CAACC,EAAnB,CAAsB,gBAAtB,EAAwC,UAASC,MAAT,EAAiB;AD7BvDzC,AC8BA,QD9BAA,IC8BIyC,MAAM,CAACC,MD9BM,CAAC5C,CC8BlB,EAAqB,GCrBf,OFTW,EAAgB,OAAhB,CAAjB;AACA,AC8BEmC,ACrBNvD,MAAAA,IDqBMuD,ICrBE,CDqBG,ACrBF2J,CDqBGxJ,GCrBZ,CAActD,MDqBR,CAAiB6D,ACrBvB,CAAsB,GDqBhB,CAAsBF,CCrBD0F,CAAL,CAAOmC,GDqBK,CAAC7I,KAA7B,ECrBN,IAA4C,IAA5C;AFlBA,ACwCMF,ACrBP,UDqBOA,MAAM,CAACb,SAAD,EAAYL,MAAZ,EAAoB4B,KAApB,CAAN;AD7BP,AC8BM;AD7BR,AC8BM,OALD;ADvBN,AC6BMM,MAAAA,kBAAkB,CAACC,EAAnB,CAAsB,cCtBJ,IDsBlB,EAA0C,UAASC,MAAT,EAAiB;AACzD,ACtBJ,UAAIoJ,EDsBI,CAACpJ,ICtBE,EDsBI,CAACC,ACtBFhE,QDsBV,ACtBkB,CAACkN,CDsBG,GCtBZ,CAAcE,qBAAd,EAAd;ADuBM,ACtBN,WAAKC,GDsBKrL,ACtBV,GAAW,CAACmL,KDsBO,ECtBA,CAACE,EDsBI,CAAC,ACtBzB,CDsBM,EAAsB;AACpB9J,ACtBT,YDsBSA,KAAK,CAACG,UAAN,CAAiBQ,MAAjB,CAAwBX,KAAK,CAACG,UAAN,CAAiBS,OAAjB,CAAyBJ,MAAM,CAAChB,KAAhC,CAAxB,EAAgE,CAAhE;AACD;;AACDF,UAAAA,MAAM,CAACb,SAAD,CCtBO,CDsBKL,MAAZ,EAAoB4B,KAApB,CAAN;AACD,ACvBc,UAAhB+J,OAAgB,uEAAN,IAAM;AFNvB,AC8BO,ACvBH,ODgBE,EDvBGhM,EEOAiM,SAAL,MFPJ,CAA2BnM,aAA3B,EAAwD;AAAA,AC+BnD,ACvBD,MFRsCG,KAAc,AEQ/CiM,mBAAL,oDFR8C,IAAM;AESpD,WAAKC,QAAL,CAAcH,OAAd,EAAuB,MAAvB;AFRF,AC+BE,ACtBAtN,MFTEoB,AESFpB,EDsBI,MCtBI,CDsBGoE,ACrBR3D,IFVY,CAACQ,OC+BZ,CCtBJ,CACiB,GFVf,AC+B0B,CD/BC,UC+B7B,EAAyC,ED/BvC,CAAJ,EAAgD,EES9C,EAEGO,YAFH,CAEgB,eAFhB,EAEiC,MAFjC;AFRA,AC+BE4C,ACpBH,MDoBGA,ED/BE7C,KAAJ,EAAW,GC+BG,CAACuC,EAAb,CAAgB,gBAAhB,EAAkC,UAASC,MAAT,EAAiB;AD9BnD3C,AC+BE,MD/BFA,MC+BM2C,MAAM,CD/BC,AC+BAC,CD/BCxC,OC+BZ,EAAqB,GD/BvB,CAA2B,cAA3B,EAA2CD,KAA3C;AACA,AC+BIgC,UAAAA,KAAK,CAACI,IAAN,CAAWM,IAAX,CAAgBF,MAAM,CAAChB,KAAvB;AD9BL,AC+BKF,UAAAA,MAAM,CAACb,SAAD,EAAYL,ACrBJ,MDqBR,EAAoB4B,KAApB,CAAN;AACD,ACtBe,UAAhB+J,OAAgB,uEAAN,IAAM;AFTpB,ACgCG,ACtBH,ODiBE,CD3BElM,GEUC+K,UFVY,CAAChL,AEUlB,YFVI,CAA2B,cAA3B,MAA+C,MAAnD,EAA2D;AACzDC,ACgCAgD,ACtBFxD,MFVEQ,ACgCAgD,ACtBFxD,MAAM,CAAC8M,KDsBO,CDhCC,ACgCA5J,CDhCCtC,CCgCd,ACtBF,CDsBkB,ACtBF,CAAhB,EAAmBmM,IAAI,CAACC,EFVtB,CAA2B,AEUV,CAAS5N,MDsB1B,EAAoC,ACtBF,CAACkN,IFVnC,AEU0B,CAAcE,CFVG,GCgCErJ,IDhC7C,ECgCoC,EAAiB,SCtB3B,GAAsCsJ,GAA/C,CAAnB;AFTC,ACgCG,ACtBJ,KFZA,MAEO,AEUFI,CDsBG,CAAC1J,EDhCE3C,ICgCI,ACtBf,CDsBgB4C,ACtBFsJ,OAAd,CFVwB,ACgCpB,CDhCqBnM,AEUF,CDsBG,MCtB1B,KFVW,CAA2B,cAA3B,MAA+C,OAAnD,EAA4D;AACjEC,ACgCI,ACtBNpB,MFVEoB,AEUFpB,QDsBUgC,ACtBF,CACLvB,IFXY,CAACe,GCgCG,KAAK,ACtBxB,CDsByB,ACrBR,CDqBX,EDhCJ,ACgC0B,CDhCC,cAA3B,EAA2C,GEU7C,EAEGA,CFZD,WEUF,CAEgB,eAFhB,EAEiC,OAFjC;AFTC,ACgCO+B,ACpBT,YDoBSA,KAAK,CAACI,IAAN,CAAWO,MAAX,CAAkBX,KAAK,CAACI,IAAN,CAAWQ,OAAX,CAAmBJ,MAAM,CAAChB,KAA1B,CAAlB,EAAoD,CAApD;AD/BT,ACgCQ;;AD/BT,ACgCQF,MDhCJzB,ICgCIyB,MAAM,CAACb,EDhCE,CAACf,MCgCJ,EAAYU,IDhCtB,CAA2B,CCgCjB,ACpBA,EDoBoB4B,KAApB,CAAN,KDhCJ,CAAJ,EAAgD;AAC9C,ACgCK,ACpBL,QFZIhC,EEYAsM,GFZJ,EAAW,GEYC,GAAG7N,QAAQ,CAAC8F,aAAT,CAAuB,KAAvB,CAAf;AFXE1E,ACgCC,ACpBHyM,MFZEzM,AEYFyM,CDaE,OCbM,CAACzN,IFZM,CAACoB,EEYhB,CAAiB,KAAKiI,CAAL,CAAOmC,EFZtB,CAA2B,QEYZ,GAAqB,GFZpC,EAA2CrK,KAA3C,AEYF,IAAoD,EAApD;AFXE,ACgCD,ACpBDvB,MAAAA,QAAQ,CAACkN,IAAT,CAAcnH,WAAd,CAA0B8H,QAA1B;AFXC,AEYD,WAAKrB,eAAL,GAAuBxM,QAAQ,CAACS,aAAT,CACrB,WAAW,KAAKgJ,CAAL,CAAOmC,WAAlB,GAAgC,YADX,CAAvB;ADoBA5L,ACjBD,IDiBCA,QAAQ,CAACS,aAAT,CAAuB,wBAAvB,EAAiDJ,gBAAjD,CACE,OADF,EAEEuC,QAAQ,CAAC,UAAS/B,KAAT,EAAgB;ADjC3B,ACkCI0C,MAAAA,EDlCAnC,GCkCK,CAACwC,OAAN,EDlCa,CAACzC,ACkCEN,KAAK,CAACiC,MDlCtB,CAA2B,GCkCX,CAAiBC,KAAjC,KDlCA,MAA+C,MAAnD,EAA2D;AACzD3B,ACkCEyB,MDlCFzB,ACkCEyB,MAAM,CAACb,MDlCI,CAACR,ECkCN,EAAYG,MAAZ,EDlCR,ACkC4B4B,CDlCD,ICkCnB,CAAN,SDlCF,EAA2C,OAA3C;AACD,ACkCE,KDpCH,ACiCU,EAGL,GAHK,CD/BH,AC6BP,ID7BWnC,aAAa,CAACD,AEclBmM,SAASQ,GFdL,CAA2B,IEcd,UFdb,MAA+C,OAAnD,EAA4D;AACjE1M,ACmCH,ACrBC,GDhCF,CAqDE,EDnCEA,IEcE,CDqBGsB,KAAP,CCrBW,CDqBG,CDnCC,CAAClB,EEcAiI,CAAL,CAAOgE,QFdhB,AEcE,CFdyB,GEcC,WFd5B,AEcF,EFd6C,AEcF,MFdzC;AACD,ACmCD,ACrBA,UDqBM,CCrBDhE,CAAL,CAAOgE,CDqBG9K,KAAJ,CAAUD,CCrBhB,CAAgB4K,GDqBV,CAAN,GCrBA,EAAyBQ,MAAzB;AFbD,ACmCA,ACrBA;AFbF,ACmCA;AAED;;;;ACrBA,IAAIvB,aAAJ;;;AAEA,SAASzM,IAAT,GAA8B;ADyB9B,ACzB8B,MAAhB8B,GDyBLiB,ICzBqB,EDyB9B,CAAgBwB,KAAhB,EAAuB1C,MAAvB,EAA+B4B,KAA/B,EAAsC,8CCzBd,IAAM;AD0B5B,ACzBA,MDyBM1B,KAAK,GAAGC,WAAW,CAACC,ACzB1BwK,GDyBc,EAAd,QCzBa,GAAG,IAAIhB,UAAJ,CAAe3J,OAAf,CAAhB;AD0BA,ACzBA2K,EAAAA,IDyBM7K,IAAI,GAAG2C,ECzBA,CAAC0J,EDyBI,CAACzJ,CCzBnB,IDyBa,CAAY,UAASpC,GAAT,EAAc;AACrC,ACzBF,SAAOqK,EDyBEhI,WAAW,ACzBpB,CDyBqBhB,KAAD,EAAQrB,GAAR,CAAlB;AACD,ACzBF,GDuBc,CAAb;AAGAK,EAAAA,OAAO,CAACC,KAAR,gCAC0Bd,IAAI,CAACvB,MAD/B,gBAC2CsC,QAAQ,CAC/CX,WAAW,CAACC,GAAZ,KAAoBF,KAD2B,CADnD;ACxBF,SAASiL,cAAT,GAAkC;AD6BhC,AC7BgC,MD6B5BvJ,AC7BkB8G,CAAU,ID6BvB,CAAC7G,KAAN,KAAgB,EAAhB,IAAsBD,KAAK,CAACK,OAAN,KAAkB,EAA5C,EAAgD,4BC7BtB,IAAM;AD8B9BY,AC7BF,ID6BEA,EC7BExD,MAAM,GAAGqJ,CD6BC,AC7BA,GD6BG,AC7BAA,CAAC,CAACrJ,ED6BEqB,IC7BP,GAAc,GD6BX,CAAe,AC7BhC;AD8BIoC,AC7BJ8H,EAAAA,ID6BI9H,OAAO,EAAE,AC7BA,CAACuJ,IAAd,CAAmBhN,GD4Ba,GC5BhC;AD8BI0D,AC7BL,MD6BKA,MAAM,EAAE,UAFoB;AAG5BC,MAAAA,QAAQ,EAAE,MAHkB;AAI5BC,AC7BN,MD6BMA,GC7BGmI,ED6BE,EAAE,IAJqB,OCzBlC,GAAmC;AD8B7BlI,AC9B6B,MD8B7BA,AC9BmBwF,CAAU,ID8BxB,EAAE,IALqB,6DCzBL,IAAM;AD+B7BnI,AC9BJ,MD8BIA,AC9BAlB,GD8BG,EAAE,CC9BC,GAAGqJ,CAAC,GAAGA,CAAC,CAACrJ,MAAL,GAAc,IAA5B;AD+BMmB,AC9BNoK,EAAAA,MD8BMpK,EAAE,EAAE,GC9BG,CAAC8L,CD6BL,IC7BT,CAAoBjN,MAApB;AD+BMoB,AC9BP,QD8BOA,KAAK,EAAET;AAFJ;AANuB,KAAf,CAAf;;AAWA,SAAK,IAAIzB,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGwB,IAAI,CAACvB,MAAzB,EAAiCD,CAAC,EAAlC,EAAsC;AACpCsE,MAAAA,YAAY,CAAClC,GAAb,CAAiBZ,IAAI,CAACxB,CAAD,CAArB;AACD;;AACD,QAAIqD,KAAK,CAACC,KAAN,KAAgB,EAAhB,IAAsBD,KAAK,CAACK,OAAN,KAAkB,EAA5C,EAAgD;AAC9CkB,MAAAA,UAAU,GAAG,CAAC;AAAE1C,QAAAA,KAAK,EAAE,OAAT;AAAkBmB,QAAAA,KAAK,EAAEA,KAAK,CAACC;AAA/B,OAAD,CAAb;AACD,KAFD,MAEO,IAAID,KAAK,CAACC,KAAN,KAAgB,EAAhB,IAAsBD,KAAK,CAACK,OAAN,KAAkB,EAA5C,EAAgD;AACrDkB,MAAAA,UAAU,GAAG,CAAC;AAAE1C,QAAAA,KAAK,EAAE,SAAT;AAAoBmB,QAAAA,KAAK,EAAEA,KAAK,CAACK;AAAjC,OAAD,CAAb;AACD,KAFM,MAEA;AACLkB,MAAAA,UAAU,GAAG,CACX;AACE1C,QAAAA,KAAK,EAAE,OADT;AAEEmB,QAAAA,KAAK,EAAEA,KAAK,CAACC,KAFf;AAGEuB,QAAAA,IAAI,EAAE;AAHR,OADW,EAMX;AACE3C,QAAAA,KAAK,EAAE,SADT;AAEEmB,QAAAA,KAAK,EAAEA,KAAK,CAACK,OAFf;AAGEmB,QAAAA,IAAI,EAAE;AAHR,OANW,CAAb;AAYD;;AACDP,IAAAA,YAAY,CAAC3B,MAAb,CAAoBiC,UAApB,EAAgC,EAAhC,EAAoC9B,IAApC,CAAyC,UAASC,OAAT,EAAkB;AACzDV,MAAAA,OAAO,CAACC,KAAR,iCAC2BS,OAAO,CAAC9C,MADnC,gBAC+CsC,QAAQ,CACnDX,WAAW,CAACC,GAAZ,KAAoBF,KAD+B,CADvD;AAKAqB,MAAAA,aAAa,CAACD,OAAD,CAAb;AACAV,MAAAA,OAAO,CAACC,KAAR,iCAC2BS,OAAO,CAAC9C,MADnC,gBAC+CsC,QAAQ,CACnDX,WAAW,CAACC,GAAZ,KAAoBF,KAD+B,CADvD;AAKD,KAZD;AAaD,GA9CD,MA8CO,IAAI0B,KAAK,CAACC,KAAN,KAAgB,EAAhB,IAAsBD,KAAK,CAACK,OAAN,KAAkB,EAA5C,EAAgD;AACrDV,IAAAA,aAAa,CAACxB,IAAI,CAACsD,KAAL,CAAW,CAAX,EAAc,CAAd,CAAD,CAAb;AACAzC,IAAAA,OAAO,CAACC,KAAR,iCAC2Bd,IAAI,CAACvB,MADhC,gBAC4CsC,QAAQ,CAChDX,WAAW,CAACC,GAAZ,KAAoBF,KAD4B,CADpD;AAKD;AACF;AAED;;;;;;;AAKA,SAAS0C,WAAT,CAAqBhB,KAArB,EAA4BrB,GAA5B,EAAiC;AAC/B,MAAI+C,KAAK,GAAG,KAAZ;;AACA,MACE1B,KAAK,CAACE,IAAN,KAAe,EAAf,IACAF,KAAK,CAACG,UAAN,CAAiBvD,MAAjB,IAA2B,CAD3B,IAEAoD,KAAK,CAACI,IAAN,CAAWxD,MAAX,IAAqB,CAHvB,EAIE;AACA8E,IAAAA,KAAK,GAAG,IAAR;AACD;;AACD,MAAI1B,KAAK,CAACE,IAAN,KAAe,EAAnB,EAAuB;AACrBwB,IAAAA,KAAK,GAAI,UAASC,EAAT,EAAaC,EAAb,EAAiB;AACxBD,MAAAA,EAAE,GAAG,IAAIE,IAAJ,CAASF,EAAT,CAAL;AACAC,MAAAA,EAAE,GAAG,IAAIC,IAAJ,CAASD,EAAT,CAAL;AACA,aACED,EAAE,CAACG,WAAH,OAAqBF,EAAE,CAACE,WAAH,EAArB,IACAH,EAAE,CAACI,QAAH,OAAkBH,EAAE,CAACG,QAAH,EADlB,IAEAJ,EAAE,CAACK,OAAH,OAAiBJ,EAAE,CAACI,OAAH,EAHnB;AAKD,KARO,CAQLhC,KAAK,CAACE,IARD,EAQOvB,GAAG,CAACuB,IARX,CAAR;AASD;;AACD,MAAIF,KAAK,CAACG,UAAN,CAAiBvD,MAAjB,GAA0B,CAA9B,EAAiC;AAC/B8E,IAAAA,KAAK,GAAG1B,KAAK,CAACG,UAAN,CAAiB8B,KAAjB,CAAuB,UAAAC,CAAC;AAAA,aAAIvD,GAAG,CAACwD,QAAJ,CAAahC,UAAb,CAAwBiC,QAAxB,CAAiCF,CAAjC,CAAJ;AAAA,KAAxB,CAAR;AACD;;AACD,MAAIlC,KAAK,CAACI,IAAN,CAAWxD,MAAX,GAAoB,CAAxB,EAA2B;AACzB8E,IAAAA,KAAK,GAAG1B,KAAK,CAACI,IAAN,CAAW6B,KAAX,CAAiB,UAAAC,CAAC;AAAA,aAAIvD,GAAG,CAACwD,QAAJ,CAAa/B,IAAb,CAAkBgC,QAAlB,CAA2BF,CAA3B,CAAJ;AAAA,KAAlB,CAAR;AACD;;AACD,SAAOR,KAAP;AACD;AAED;;;;;;AAIA,SAAS/B,aAAT,CAAuBD,OAAvB,EAAgC;AAC9BjD,EAAAA,QAAQ,CAACS,aAAT,CAAuB,iBAAvB,EAA0CmF,SAA1C,GAAsD,EAAtD;;AACA,MAAI3C,OAAO,CAAC9C,MAAR,GAAiB,CAArB,EAAwB;AACtB,QAAM0F,SAAS,GAAG7F,QAAQ,CAAC8F,aAAT,CAAuB,GAAvB,CAAlB;AACAD,IAAAA,SAAS,CAACE,WAAV,CACE/F,QAAQ,CAACgG,cAAT,CAAwBC,kBAAkB,CAACC,MAAnB,CAA0BC,KAAlD,CADF;AAGAnG,IAAAA,QAAQ,CAACS,aAAT,CAAuB,iBAAvB,EAA0CsF,WAA1C,CAAsDF,SAAtD;AACD;;AACD,OAAK,IAAI3F,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG+C,OAAO,CAAC9C,MAA5B,EAAoCD,CAAC,EAArC,EAAyC;AACvC,QAAIkG,IAAI,GAAGpG,QAAQ,CAACS,aAAT,CAAuB,gBAAvB,CAAX;AACA,QAAI4F,QAAQ,GAAGrG,QAAQ,CAACsG,UAAT,CAAoBF,IAAI,CAACxC,OAAzB,EAAkC,IAAlC,CAAf;AACAyC,IAAAA,QAAQ,CAAC5F,aAAT,CAAuB,MAAvB,EAA+B8F,WAA/B,GAA6CtD,OAAO,CAAC/C,CAAD,CAAP,CAAWsD,KAAxD;AACA6C,IAAAA,QAAQ,CAAC5F,aAAT,CAAuB,MAAvB,EAA+Be,YAA/B,CAA4C,MAA5C,EAAoDyB,OAAO,CAAC/C,CAAD,CAAP,CAAWsG,GAA/D;;AACA,QAAMX,UAAS,GAAGQ,QAAQ,CAAC5F,aAAT,CAAuB,GAAvB,CAAlB;;AACAoF,IAAAA,UAAS,CAACE,WAAV,CACE/F,QAAQ,CAACgG,cAAT,CAAwBC,kBAAkB,CAACQ,OAAnB,CAA2BC,EAA3B,GAAgC,GAAxD,CADF;;AAGAC,IAAAA,UAAU,CAACd,UAAD,EAAY5C,OAAO,CAAC/C,CAAD,CAAP,CAAWuD,IAAvB,CAAV;AACAmD,IAAAA,cAAc,CACZf,UADY,EAEZ5C,OAAO,CAAC/C,CAAD,CAAP,CAAWwF,QAAX,CAAoBhC,UAFR,EAGZ,UAHY,EAIZuC,kBAAkB,CAACQ,OAAnB,CAA2BI,EAJf,CAAd;AAMAD,IAAAA,cAAc,CACZf,UADY,EAEZ5C,OAAO,CAAC/C,CAAD,CAAP,CAAWwF,QAAX,CAAoB/B,IAFR,EAGZ,KAHY,EAIZsC,kBAAkB,CAACQ,OAAnB,CAA2BK,IAJf,CAAd;;AAMAjB,IAAAA,UAAS,CAACE,WAAV,CAAsB/F,QAAQ,CAACgG,cAAT,CAAwB,GAAxB,CAAtB;;AACAH,IAAAA,UAAS,CAACkB,SAAV;;AACA/G,IAAAA,QAAQ,CAACS,aAAT,CAAuB,iBAAvB,EAA0CsF,WAA1C,CAAsDM,QAAtD;AACD;AACF;AAED;;;;;;;AAKA,SAASM,UAAT,CAAoBd,SAApB,EAA+BnE,IAA/B,EAAqC;AACnC,MAAMsF,MAAM,GAAGhH,QAAQ,CAAC8F,aAAT,CAAuB,GAAvB,CAAf;AACAkB,EAAAA,MAAM,CAACxF,YAAP,CAAoB,MAApB,EAA4B,GAA5B;AACA,MAAMyF,IAAI,GAAGjH,QAAQ,CAAC8F,aAAT,CAAuB,MAAvB,CAAb;AACAmB,EAAAA,IAAI,CAACzF,YAAL,CAAkB,UAAlB,EAA8BE,IAA9B;AACAuF,EAAAA,IAAI,CAAClB,WAAL,CACE/F,QAAQ,CAACgG,cAAT,CACEkB,KAAK,CAACxF,IAAD,CAAL,CAAYyF,MAAZ,CAAmBC,aAAa,CAACC,gBAAgB,CAACC,KAAlB,CAAhC,CADF,CADF;AAKAN,EAAAA,MAAM,CAACjB,WAAP,CAAmBkB,IAAnB;AACApB,EAAAA,SAAS,CAACE,WAAV,CAAsBiB,MAAtB;AACD;AAED;;;;;;;;;AAOA,SAASJ,cAAT,CAAwBf,SAAxB,EAAmCnE,IAAnC,EAAyC6F,IAAzC,EAA+CC,SAA/C,EAA0D;AACxD,MAAI9F,IAAI,KAAK,EAAT,IAAeA,IAAI,CAACvB,MAAL,GAAc,CAAjC,EAAoC;AAClC;AACD;;AACD0F,EAAAA,SAAS,CAACE,WAAV,CAAsB/F,QAAQ,CAACgG,cAAT,YAA4BwB,SAA5B,OAAtB;;AACA,MAAI,OAAO9F,IAAP,KAAgB,QAAhB,IAA4BA,IAAI,YAAY+F,MAAhD,EAAwD;AACtD,QAAI/F,IAAI,CAACiE,QAAL,CAAc,GAAd,CAAJ,EAAwB;AACtBjE,MAAAA,IAAI,GAAGA,IAAI,CAACgG,KAAL,CAAW,GAAX,CAAP;AACD,KAFD,MAEO;AACLhG,MAAAA,IAAI,GAAG,CAACA,IAAD,CAAP;AACD;AACF;;AACD,OAAK,IAAIiG,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGjG,IAAI,CAACvB,MAAzB,EAAiCwH,CAAC,EAAlC,EAAsC;AACpC,QAAMjC,QAAQ,GAAG1F,QAAQ,CAAC8F,aAAT,CAAuB,GAAvB,CAAjB;AACAJ,IAAAA,QAAQ,CAAChF,SAAT,CAAmB4B,GAAnB,CAAuBiF,IAAvB;AACA7B,IAAAA,QAAQ,CAAClE,YAAT,CAAsB,MAAtB,EAA8B,GAA9B;AACAkE,IAAAA,QAAQ,CAACK,WAAT,CAAqB/F,QAAQ,CAACgG,cAAT,CAAwBtE,IAAI,CAACiG,CAAD,CAA5B,CAArB;;AACA,QAAIA,CAAC,GAAG,CAAJ,IAASA,CAAC,GAAGjG,IAAI,CAACvB,MAAtB,EAA8B;AAC5B0F,MAAAA,SAAS,CAACE,WAAV,CAAsB/F,QAAQ,CAACgG,cAAT,CAAwB,IAAxB,CAAtB;AACD;;AACDH,IAAAA,SAAS,CAACE,WAAV,CAAsBL,QAAtB;AACD;AACF;AAED;;;;;;;;AAMA,SAAS9C,QAAT,CAAkBgF,IAAlB,EAAwBC,KAAxB,EAA+B;AAC7B,MAAIC,UAAJ;AACA,SAAO,YAAW;AAChB,QAAMC,OAAO,GAAG,IAAhB;AACA,QAAMC,IAAI,GAAGC,SAAb;AACAC,IAAAA,YAAY,CAACJ,UAAD,CAAZ;AACAA,IAAAA,UAAU,GAAGK,UAAU,CAAC;AAAA,aAAMP,IAAI,CAACQ,KAAL,CAAWL,OAAX,EAAoBC,IAApB,CAAN;AAAA,KAAD,EAAkCH,KAAlC,CAAvB;AACD,GALD;AAMD;AAED;;;;;;;;AAMA,SAASQ,QAAT,CAAkBT,IAAlB,EAAwBU,KAAxB,EAA+B;AAC7B,MAAIC,QAAJ;AACA,MAAIC,OAAJ;AACA,SAAO,YAAW;AAChB,QAAMT,OAAO,GAAG,IAAhB;AACA,QAAMC,IAAI,GAAGC,SAAb;;AACA,QAAI,CAACO,OAAL,EAAc;AACZZ,MAAAA,IAAI,CAACQ,KAAL,CAAWL,OAAX,EAAoBC,IAApB;AACAQ,MAAAA,OAAO,GAAGpD,IAAI,CAACrD,GAAL,EAAV;AACD,KAHD,MAGO;AACLmG,MAAAA,YAAY,CAACK,QAAD,CAAZ;AACAA,MAAAA,QAAQ,GAAGJ,UAAU,CAAC,YAAW;AAC/B,YAAI/C,IAAI,CAACrD,GAAL,KAAayG,OAAb,IAAwBF,KAA5B,EAAmC;AACjCV,UAAAA,IAAI,CAACQ,KAAL,CAAWL,OAAX,EAAoBC,IAApB;AACAQ,UAAAA,OAAO,GAAGpD,IAAI,CAACrD,GAAL,EAAV;AACD;AACF,OALoB,EAKlBuG,KAAK,IAAIlD,IAAI,CAACrD,GAAL,KAAayG,OAAjB,CALa,CAArB;AAMD;AACF,GAfD;AAgBD;AAED;;;;;;AAIA,SAASC,cAAT,CAAwBtB,MAAxB,EAAgC;AAC9B,MAAIuB,WAAW,GAAG;AAChBC,IAAAA,CAAC,EAAE,IADa;AAEhBC,IAAAA,CAAC,EAAE,KAFa;AAGhBC,IAAAA,CAAC,EAAE,GAHa;AAIhBC,IAAAA,CAAC,EAAE,MAJa;AAKhBC,IAAAA,CAAC,EAAE,GALa;AAMhBC,IAAAA,CAAC,EAAE,GANa;AAOhBC,IAAAA,CAAC,EAAE,GAPa;AAQhBC,IAAAA,CAAC,EAAE,KARa;AAShBC,IAAAA,CAAC,EAAE,GATa;AAUhBC,IAAAA,CAAC,EAAE,MAVa;AAWhBC,IAAAA,CAAC,EAAE,IAXa;AAYhBC,IAAAA,CAAC,EAAE,KAZa;AAahB3B,IAAAA,CAAC,EAAE,GAba;AAchB4B,IAAAA,CAAC,EAAE,EAda;AAehBC,IAAAA,CAAC,EAAE,EAfa;AAgBhBC,IAAAA,CAAC,EAAE,MAhBa;AAiBhBC,IAAAA,CAAC,EAAE,MAjBa;AAkBhBC,IAAAA,CAAC,EAAE,IAlBa;AAmBhBC,IAAAA,CAAC,EAAE,GAnBa;AAoBhBC,IAAAA,CAAC,EAAE,GApBa;AAqBhBC,IAAAA,CAAC,EAAE,EArBa;AAsBhBC,IAAAA,CAAC,EAAE,GAtBa;AAuBhBC,IAAAA,CAAC,EAAE,GAvBa;AAwBhBC,IAAAA,CAAC,EAAE,IAxBa;AAyBhBC,IAAAA,CAAC,EAAE,IAzBa;AA0BhBhK,IAAAA,CAAC,EAAE,IA1Ba;AA2BhBiK,IAAAA,CAAC,EAAE,IA3Ba;AA4BhBC,IAAAA,CAAC,EAAE,KA5Ba;AA6BhBC,IAAAA,CAAC,EAAE,IA7Ba;AA8BhBC,IAAAA,CAAC,EAAE,EA9Ba;AA+BhBC,IAAAA,CAAC,EAAE,EA/Ba;AAgChBC,IAAAA,CAAC,EAAE,EAhCa;AAiChBC,IAAAA,CAAC,EAAE,EAjCa;AAkChBC,IAAAA,CAAC,EAAE,EAlCa;AAmChBC,IAAAA,CAAC,EAAE,EAnCa;AAoChBC,IAAAA,CAAC,EAAE,EApCa;AAqChBC,IAAAA,CAAC,EAAE,GArCa;AAsChB,SAAK;AAtCW,GAAlB;AAwCA,MAAMC,KAAK,GAAG3D,MAAM,CAACO,KAAP,CAAa,EAAb,CAAd;AACA,MAAIqD,YAAY,GAAG,EAAnB;;AACA,OAAK,IAAI3E,IAAT,IAAiB0E,KAAjB,EAAwB;AACtBC,IAAAA,YAAY,IAAIrC,WAAW,CAACoC,KAAK,CAAC1E,IAAD,CAAN,CAA3B;AACD;;AACD,SAAO2E,YAAP;AACD;AAED;;;;;;AAIA,SAAS3D,aAAT,CAAuBD,MAAvB,EAA+B;AAC7B,MAAIuB,WAAW,GAAG;AAChBC,IAAAA,CAAC,EAAE,IADa;AAEhBC,IAAAA,CAAC,EAAE,KAFa;AAGhBC,IAAAA,CAAC,EAAE,GAHa;AAIhBC,IAAAA,CAAC,EAAE,MAJa;AAKhBC,IAAAA,CAAC,EAAE,EALa;AAMhBC,IAAAA,CAAC,EAAE,GANa;AAOhBC,IAAAA,CAAC,EAAE,GAPa;AAQhBC,IAAAA,CAAC,EAAE,EARa;AAShBC,IAAAA,CAAC,EAAE,EATa;AAUhBC,IAAAA,CAAC,EAAE,MAVa;AAWhBC,IAAAA,CAAC,EAAE,IAXa;AAYhBC,IAAAA,CAAC,EAAE,KAZa;AAahB3B,IAAAA,CAAC,EAAE,GAba;AAchB4B,IAAAA,CAAC,EAAE,EAda;AAehBC,IAAAA,CAAC,EAAE,EAfa;AAgBhBC,IAAAA,CAAC,EAAE,MAhBa;AAiBhBC,IAAAA,CAAC,EAAE,MAjBa;AAkBhBC,IAAAA,CAAC,EAAE,IAlBa;AAmBhBC,IAAAA,CAAC,EAAE,GAnBa;AAoBhBC,IAAAA,CAAC,EAAE,GApBa;AAqBhBC,IAAAA,CAAC,EAAE,EArBa;AAsBhBC,IAAAA,CAAC,EAAE,GAtBa;AAuBhBC,IAAAA,CAAC,EAAE,GAvBa;AAwBhBC,IAAAA,CAAC,EAAE,IAxBa;AAyBhBC,IAAAA,CAAC,EAAE,IAzBa;AA0BhBhK,IAAAA,CAAC,EAAE,IA1Ba;AA2BhBiK,IAAAA,CAAC,EAAE,IA3Ba;AA4BhBC,IAAAA,CAAC,EAAE,EA5Ba;AA6BhB3E,IAAAA,CAAC,EAAE,KA7Ba;AA8BhB4E,IAAAA,CAAC,EAAE,EA9Ba;AA+BhBC,IAAAA,CAAC,EAAE,EA/Ba;AAgChBC,IAAAA,CAAC,EAAE,IAhCa;AAiChBC,IAAAA,CAAC,EAAE,GAjCa;AAkChBC,IAAAA,CAAC,EAAE,EAlCa;AAmChBC,IAAAA,CAAC,EAAE,EAnCa;AAoChBC,IAAAA,CAAC,EAAE,EApCa;AAqChBC,IAAAA,CAAC,EAAE,EArCa;AAsChBC,IAAAA,CAAC,EAAE,GAtCa;AAuChB,SAAK;AAvCW,GAAlB;AAyCA,MAAMC,KAAK,GAAG3D,MAAM,CAACO,KAAP,CAAa,EAAb,CAAd;AACA,MAAIqD,YAAY,GAAG,EAAnB;;AACA,OAAK,IAAI3E,IAAT,IAAiB0E,KAAjB,EAAwB;AACtBC,IAAAA,YAAY,IAAIrC,WAAW,CAACoC,KAAK,CAAC1E,IAAD,CAAN,CAA3B;AACD;;AACD,SAAO2E,YAAP;AACD;AAED;;;;;;;AAKA,SAAStI,QAAT,CAAkBuI,QAAlB,EAA4B;AAC1B,MAAIC,YAAY,GAAGD,QAAQ,CAACE,OAAT,CAAiB,CAAjB,CAAnB;AACA,MAAIC,OAAO,GAAG,CAACH,QAAQ,GAAG,IAAZ,EAAkBE,OAAlB,CAA0B,CAA1B,CAAd;AACA,MAAIE,OAAO,GAAG,CAACJ,QAAQ,IAAI,OAAO,EAAX,CAAT,EAAyBE,OAAzB,CAAiC,CAAjC,CAAd;AACA,MAAIG,KAAK,GAAG,CAACL,QAAQ,IAAI,OAAO,EAAP,GAAY,EAAhB,CAAT,EAA8BE,OAA9B,CAAsC,CAAtC,CAAZ;AACA,MAAII,IAAI,GAAG,CAACN,QAAQ,IAAI,OAAO,EAAP,GAAY,EAAZ,GAAiB,EAArB,CAAT,EAAmCE,OAAnC,CAA2C,CAA3C,CAAX;;AACA,MAAIC,OAAO,IAAI,CAAf,EAAkB;AAChB,WAAOF,YAAY,GAAG,KAAtB;AACD,GAFD,MAEO,IAAIE,OAAO,GAAG,EAAd,EAAkB;AACvB,WAAOA,OAAO,GAAG,MAAjB;AACD,GAFM,MAEA,IAAIC,OAAO,GAAG,EAAd,EAAkB;AACvB,WAAOA,OAAO,GAAG,MAAjB;AACD,GAFM,MAEA,IAAIC,KAAK,GAAG,EAAZ,EAAgB;AACrB,WAAOA,KAAK,GAAG,MAAf;AACD,GAFM,MAEA;AACL,WAAOC,IAAI,GAAG,OAAd;AACD;AACF","file":"theme.js","sourceRoot":"..\\src\\js","sourcesContent":["/**\r\n * Initialize accessibility helpers\r\n */\r\nfunction init() {\r\n  const buttons = document.querySelectorAll('[role=\"button\"]');\r\n  for (var i = 0; i < buttons.length; ++i) {\r\n    if (\"target\" in buttons[i].dataset) {\r\n      buttons[i].addEventListener(\"click\", toggleHandler);\r\n      buttons[i].addEventListener(\"keydown\", toggleHandler);\r\n      buttons[i].addEventListener(\"keyup\", toggleHandler);\r\n    } else {\r\n      buttons[i].addEventListener(\"click\", buttonHandler);\r\n      buttons[i].addEventListener(\"keydown\", buttonHandler);\r\n      buttons[i].addEventListener(\"keyup\", buttonHandler);\r\n    }\r\n  }\r\n  const links = document.querySelectorAll(\"a[href]\");\r\n  for (var i = 0; i < links.length; ++i) {\r\n    links[i].addEventListener(\"click\", buttonHandler);\r\n    links[i].addEventListener(\"keydown\", buttonHandler);\r\n    links[i].addEventListener(\"keyup\", buttonHandler);\r\n  }\r\n  if (\r\n    document.querySelector(\".next-previous\") &&\r\n    document.querySelector(\"body\").classList.contains(\"docs\")\r\n  ) {\r\n    window.addEventListener(\r\n      \"keydown\",\r\n      function(event) {\r\n        switch (event.code) {\r\n          case \"ArrowLeft\":\r\n            if (\r\n              document.querySelector(\".next-previous article:first-of-type a\")\r\n            ) {\r\n              document\r\n                .querySelector(\".next-previous article:first-of-type a\")\r\n                .click();\r\n            }\r\n            break;\r\n          case \"ArrowRight\":\r\n            if (\r\n              document.querySelector(\".next-previous article:last-of-type a\")\r\n            ) {\r\n              document\r\n                .querySelector(\".next-previous article:last-of-type a\")\r\n                .click();\r\n            }\r\n            break;\r\n        }\r\n      },\r\n      true\r\n    );\r\n  }\r\n}\r\n\r\n/**\r\n * @param {MouseEvent|KeyboardEvent} event\r\n */\r\nfunction buttonHandler(event) {\r\n  if (event.target.hasAttribute(\"href\")) {\r\n    switch (event.code) {\r\n      case \"Space\":\r\n        event.target.click();\r\n        window.location = event.target.getAttribute(\"href\");\r\n        break;\r\n      case \"Enter\":\r\n        event.target.click();\r\n        window.location = event.target.getAttribute(\"href\");\r\n        break;\r\n    }\r\n  }\r\n}\r\n\r\n/**\r\n * @param {MouseEvent|KeyboardEvent} event\r\n */\r\nfunction toggleHandler(event) {\r\n  const targetElement = document.querySelector(event.target.dataset.target);\r\n  if (event.type === \"click\") {\r\n    toggleButtonState(targetElement);\r\n  } else if (event.type === \"keydown\") {\r\n    switch (event.code) {\r\n      case \"Space\":\r\n        toggleButtonState(targetElement);\r\n        break;\r\n      case \"Enter\":\r\n        toggleButtonState(targetElement);\r\n        break;\r\n      case \"Escape\":\r\n        toggleButtonState(targetElement, \"false\");\r\n        break;\r\n    }\r\n  }\r\n}\r\n\r\n/**\r\n * Toggles the button's  target's state\r\n *\r\n * @param {HTMLElement} targetElement\r\n * @param {Boolean} force\r\n */\r\nfunction toggleButtonState(targetElement, force = null) {\r\n  if (targetElement.hasAttribute(\"aria-checked\")) {\r\n    if (force) {\r\n      targetElement.setAttribute(\"aria-checked\", force);\r\n      return;\r\n    }\r\n    if (targetElement.getAttribute(\"aria-checked\") === \"true\") {\r\n      targetElement.setAttribute(\"aria-checked\", \"false\");\r\n    } else if (targetElement.getAttribute(\"aria-checked\") === \"false\") {\r\n      targetElement.setAttribute(\"aria-checked\", \"true\");\r\n    }\r\n  }\r\n  if (targetElement.hasAttribute(\"aria-pressed\")) {\r\n    if (force) {\r\n      targetElement.setAttribute(\"aria-pressed\", force);\r\n      return;\r\n    }\r\n    if (targetElement.getAttribute(\"aria-pressed\") === \"true\") {\r\n      targetElement.setAttribute(\"aria-pressed\", \"false\");\r\n    } else if (targetElement.getAttribute(\"aria-pressed\") === \"false\") {\r\n      targetElement.setAttribute(\"aria-pressed\", \"true\");\r\n    }\r\n  }\r\n}\r\n\r\nexport {\r\n  init as accessibilityInit,\r\n  buttonHandler,\r\n  toggleHandler,\r\n  toggleButtonState,\r\n};\r\n","/**\r\n * Initialize metadata and content search\r\n * @param {object[]} data An array of objects, each representing a Page\r\n * @param {array} fields List of fields in each data-object\r\n */\r\nfunction searchFieldInit(data, fields, options) {\r\n  const start = performance.now();\r\n  var dataIndex;\r\n  const FlexSearchOptions = options;\r\n  FlexSearchOptions.doc = {\r\n    id: \"url\",\r\n    field: fields,\r\n  };\r\n  try {\r\n    dataIndex = new FlexSearch(FlexSearchOptions);\r\n    dataIndex.add(data);\r\n    console.debug(\r\n      `FlexSearch add(n = ${data.length}): ${msToTime(\r\n        performance.now() - start\r\n      )}`\r\n    );\r\n  } catch (error) {\r\n    throw new Error(error);\r\n  }\r\n  try {\r\n    document.querySelector(\"#query\").addEventListener(\r\n      \"keyup\",\r\n      debounce(function(event) {\r\n        dataIndex.search(event.srcElement.value, 10).then(function(results) {\r\n          console.debug(\r\n            `FlexSearch search(n = ${results.length}): ${msToTime(\r\n              performance.now() - start\r\n            )}`\r\n          );\r\n          renderResults(results);\r\n          console.debug(\r\n            `FlexSearch render(n = ${results.length}): ${msToTime(\r\n              performance.now() - start\r\n            )}`\r\n          );\r\n        });\r\n      }, 200)\r\n    );\r\n    document.querySelector(\"#query\").addEventListener(\"focus\", function(event) {\r\n      event.srcElement.setAttribute(\"aria-checked\", \"true\");\r\n      document\r\n        .querySelectorAll(\"main section\")[0]\r\n        .style.setProperty(\"display\", \"none\");\r\n      document\r\n        .querySelector(\"main aside.search\")\r\n        .setAttribute(\"aria-expanded\", \"true\");\r\n      document\r\n        .querySelector(\"main aside.search\")\r\n        .style.setProperty(\"display\", \"block\");\r\n    });\r\n    document.querySelector(\"#query\").addEventListener(\"blur\", function(event) {\r\n      event.srcElement.setAttribute(\"aria-checked\", \"false\");\r\n      document\r\n        .querySelectorAll(\"main section\")[0]\r\n        .style.removeProperty(\"display\");\r\n      document\r\n        .querySelector(\"main aside.search\")\r\n        .setAttribute(\"aria-expanded\", \"false\");\r\n      document\r\n        .querySelector(\"main aside.search\")\r\n        .style.removeProperty(\"display\");\r\n    });\r\n  } catch (error) {\r\n    throw new Error(error);\r\n  }\r\n}\r\n\r\n/**\r\n * Initialize metadata and content search\r\n * @param {object[]} data An array of objects, each representing a Page\r\n * @param {array} fields List of fields in each data-object\r\n */\r\nfunction searchPageInit(data, fields, options) {\r\n  const start = performance.now();\r\n  var dataIndex;\r\n  const FlexSearchOptions = options;\r\n  FlexSearchOptions.doc = {\r\n    id: \"url\",\r\n    field: fields,\r\n  };\r\n  const query = {\r\n    title: \"\",\r\n    date: \"\",\r\n    categories: [],\r\n    tags: [],\r\n    content: \"\",\r\n  };\r\n  try {\r\n    dataIndex = new FlexSearch(FlexSearchOptions);\r\n    dataIndex.add(data);\r\n    console.debug(\r\n      `FlexSearch add(n = ${data.length}): ${msToTime(\r\n        performance.now() - start\r\n      )}`\r\n    );\r\n  } catch (error) {\r\n    throw new Error(error);\r\n  }\r\n  try {\r\n    document.querySelector(\".search-query #title\").addEventListener(\r\n      \"keyup\",\r\n      debounce(function(event) {\r\n        query.title = event.srcElement.value;\r\n        search(dataIndex, fields, query);\r\n      }, 200)\r\n    );\r\n    document\r\n      .querySelector(\".search-query #date\")\r\n      .addEventListener(\"change\", function(event) {\r\n        query.date = event.srcElement.value;\r\n        search(dataIndex, fields, query);\r\n      });\r\n    if (typeof categoriesSelector !== \"undefined\") {\r\n      categoriesSelector.on(\"selectr.select\", function(option) {\r\n        if (option.selected) {\r\n          query.categories.push(option.value);\r\n          search(dataIndex, fields, query);\r\n        }\r\n      });\r\n      categoriesSelector.on(\"selectr.deselect\", function(option) {\r\n        if (!option.selected) {\r\n          if (dataIndex !== -1) {\r\n            query.categories.splice(query.categories.indexOf(option.value), 1);\r\n          }\r\n          search(dataIndex, fields, query);\r\n        }\r\n      });\r\n    }\r\n    if (typeof tagsSelector !== \"undefined\") {\r\n      tagsSelector.on(\"selectr.select\", function(option) {\r\n        if (option.selected) {\r\n          query.tags.push(option.value);\r\n          search(dataIndex, fields, query);\r\n        }\r\n      });\r\n      tagsSelector.on(\"selectr.deselect\", function(option) {\r\n        if (!option.selected) {\r\n          if (dataIndex !== -1) {\r\n            query.tags.splice(query.tags.indexOf(option.value), 1);\r\n          }\r\n          search(dataIndex, fields, query);\r\n        }\r\n      });\r\n    }\r\n    document.querySelector(\".search-query #content\").addEventListener(\r\n      \"keyup\",\r\n      debounce(function(event) {\r\n        query.content = event.srcElement.value;\r\n        search(dataIndex, fields, query);\r\n      }, 200)\r\n    );\r\n  } catch (error) {\r\n    throw new Error(error);\r\n  }\r\n}\r\n\r\n/**\r\n *\r\n * @param {object} index Data to search\r\n * @param {array} fields List of fields in each data-object\r\n * @param {object} query Field constraints\r\n */\r\nfunction search(index, fields, query) {\r\n  const start = performance.now();\r\n  const data = index.where(function(doc) {\r\n    return limitSearch(query, doc);\r\n  });\r\n  console.debug(\r\n    `FlexSearch where(n = ${data.length}): ${msToTime(\r\n      performance.now() - start\r\n    )}`\r\n  );\r\n  if (query.title !== \"\" || query.content !== \"\") {\r\n    contentIndex = new FlexSearch({\r\n      profile: \"balance\",\r\n      encode: \"advanced\",\r\n      tokenize: \"full\",\r\n      cache: true,\r\n      async: true,\r\n      doc: {\r\n        id: \"url\",\r\n        field: fields,\r\n      },\r\n    });\r\n    for (let i = 0; i < data.length; i++) {\r\n      contentIndex.add(data[i]);\r\n    }\r\n    if (query.title !== \"\" && query.content === \"\") {\r\n      fieldQuery = [{ field: \"title\", query: query.title }];\r\n    } else if (query.title === \"\" && query.content !== \"\") {\r\n      fieldQuery = [{ field: \"content\", query: query.content }];\r\n    } else {\r\n      fieldQuery = [\r\n        {\r\n          field: \"title\",\r\n          query: query.title,\r\n          bool: \"and\",\r\n        },\r\n        {\r\n          field: \"content\",\r\n          query: query.content,\r\n          bool: \"or\",\r\n        },\r\n      ];\r\n    }\r\n    contentIndex.search(fieldQuery, 10).then(function(results) {\r\n      console.debug(\r\n        `FlexSearch search(n = ${results.length}): ${msToTime(\r\n          performance.now() - start\r\n        )}`\r\n      );\r\n      renderResults(results);\r\n      console.debug(\r\n        `FlexSearch render(n = ${results.length}): ${msToTime(\r\n          performance.now() - start\r\n        )}`\r\n      );\r\n    });\r\n  } else if (query.title === \"\" && query.content === \"\") {\r\n    renderResults(data.slice(0, 9));\r\n    console.debug(\r\n      `FlexSearch render(n = ${data.length}): ${msToTime(\r\n        performance.now() - start\r\n      )}`\r\n    );\r\n  }\r\n}\r\n\r\n/**\r\n * Constrain search results by field values\r\n * @param {object} query Field constraints\r\n * @param {object} doc Document\r\n */\r\nfunction limitSearch(query, doc) {\r\n  var state = false;\r\n  if (\r\n    query.date === \"\" &&\r\n    query.categories.length == 0 &&\r\n    query.tags.length == 0\r\n  ) {\r\n    state = true;\r\n  }\r\n  if (query.date !== \"\") {\r\n    state = (function(d1, d2) {\r\n      d1 = new Date(d1);\r\n      d2 = new Date(d2);\r\n      return (\r\n        d1.getFullYear() === d2.getFullYear() &&\r\n        d1.getMonth() === d2.getMonth() &&\r\n        d1.getDate() === d2.getDate()\r\n      );\r\n    })(query.date, doc.date);\r\n  }\r\n  if (query.categories.length > 0) {\r\n    state = query.categories.every(v => doc.taxonomy.categories.includes(v));\r\n  }\r\n  if (query.tags.length > 0) {\r\n    state = query.tags.every(v => doc.taxonomy.tags.includes(v));\r\n  }\r\n  return state;\r\n}\r\n\r\n/**\r\n * Render search results\r\n * @param {object} results Search results\r\n */\r\nfunction renderResults(results) {\r\n  document.querySelector(\".search-results\").innerHTML = \"\";\r\n  if (results.length < 1) {\r\n    const paragraph = document.createElement(\"p\");\r\n    paragraph.appendChild(\r\n      document.createTextNode(ScholarTranslation.SEARCH.EMPTY)\r\n    );\r\n    document.querySelector(\".search-results\").appendChild(paragraph);\r\n  }\r\n  for (let i = 0; i < results.length; i++) {\r\n    var item = document.querySelector(\"#search-result\");\r\n    var template = document.importNode(item.content, true);\r\n    template.querySelector(\"h3 a\").textContent = results[i].title;\r\n    template.querySelector(\"h3 a\").setAttribute(\"href\", results[i].url);\r\n    const paragraph = template.querySelector(\"p\");\r\n    paragraph.appendChild(\r\n      document.createTextNode(ScholarTranslation.GENERIC.AT + \" \")\r\n    );\r\n    renderTime(paragraph, results[i].date);\r\n    renderTaxonomy(\r\n      paragraph,\r\n      results[i].taxonomy.categories,\r\n      \"category\",\r\n      ScholarTranslation.GENERIC.IN\r\n    );\r\n    renderTaxonomy(\r\n      paragraph,\r\n      results[i].taxonomy.tags,\r\n      \"tag\",\r\n      ScholarTranslation.GENERIC.WITH\r\n    );\r\n    paragraph.appendChild(document.createTextNode(\".\"));\r\n    paragraph.normalize();\r\n    document.querySelector(\".search-results\").appendChild(template);\r\n  }\r\n}\r\n\r\n/**\r\n * Create a localized time-tag\r\n * @param {HTMLElement} paragraph Reference to p-tag\r\n * @param {string} data Datetime as string\r\n */\r\nfunction renderTime(paragraph, data) {\r\n  const anchor = document.createElement(\"a\");\r\n  anchor.setAttribute(\"href\", \"#\");\r\n  const time = document.createElement(\"time\");\r\n  time.setAttribute(\"datetime\", data);\r\n  time.appendChild(\r\n    document.createTextNode(\r\n      dayjs(data).format(toDayJSFormat(systemDateformat.short))\r\n    )\r\n  );\r\n  anchor.appendChild(time);\r\n  paragraph.appendChild(anchor);\r\n}\r\n\r\n/**\r\n * Create a-tags for taxonomy items\r\n * @param {HTMLElement} paragraph Reference to p-tag\r\n * @param {string|array} data Page taxonomy\r\n * @param {string} name Class name\r\n * @param {string} separator Semantic word\r\n */\r\nfunction renderTaxonomy(paragraph, data, name, separator) {\r\n  if (data === \"\" || data.length < 1) {\r\n    return;\r\n  }\r\n  paragraph.appendChild(document.createTextNode(` ${separator} `));\r\n  if (typeof data === \"string\" || data instanceof String) {\r\n    if (data.includes(\" \")) {\r\n      data = data.split(\" \");\r\n    } else {\r\n      data = [data];\r\n    }\r\n  }\r\n  for (let n = 0; n < data.length; n++) {\r\n    const taxonomy = document.createElement(\"a\");\r\n    taxonomy.classList.add(name);\r\n    taxonomy.setAttribute(\"href\", \"#\");\r\n    taxonomy.appendChild(document.createTextNode(data[n]));\r\n    if (n > 0 && n < data.length) {\r\n      paragraph.appendChild(document.createTextNode(\", \"));\r\n    }\r\n    paragraph.appendChild(taxonomy);\r\n  }\r\n}\r\n\r\n/**\r\n * Debounce execution of callback\r\n * @param {function} func Function to execute\r\n * @param {int} delay Millisecond delay\r\n * @see https://codeburst.io/throttling-and-debouncing-in-javascript-b01cad5c8edf\r\n */\r\nfunction debounce(func, delay) {\r\n  let inDebounce;\r\n  return function() {\r\n    const context = this;\r\n    const args = arguments;\r\n    clearTimeout(inDebounce);\r\n    inDebounce = setTimeout(() => func.apply(context, args), delay);\r\n  };\r\n}\r\n\r\n/**\r\n * Throttle execution of callback\r\n * @param {function} func Function to execute\r\n * @param {int} limit Millisecond limit\r\n * @see https://codeburst.io/throttling-and-debouncing-in-javascript-b01cad5c8edf\r\n */\r\nfunction throttle(func, limit) {\r\n  let lastFunc;\r\n  let lastRan;\r\n  return function() {\r\n    const context = this;\r\n    const args = arguments;\r\n    if (!lastRan) {\r\n      func.apply(context, args);\r\n      lastRan = Date.now();\r\n    } else {\r\n      clearTimeout(lastFunc);\r\n      lastFunc = setTimeout(function() {\r\n        if (Date.now() - lastRan >= limit) {\r\n          func.apply(context, args);\r\n          lastRan = Date.now();\r\n        }\r\n      }, limit - (Date.now() - lastRan));\r\n    }\r\n  };\r\n}\r\n\r\n/**\r\n * Convert PHP date format to Moment date format\r\n * @param {string} format PHP date format\r\n */\r\nfunction toMomentFormat(format) {\r\n  var conversions = {\r\n    d: \"DD\",\r\n    D: \"ddd\",\r\n    j: \"D\",\r\n    l: \"dddd\",\r\n    N: \"E\",\r\n    S: \"o\",\r\n    w: \"e\",\r\n    z: \"DDD\",\r\n    W: \"W\",\r\n    F: \"MMMM\",\r\n    m: \"MM\",\r\n    M: \"MMM\",\r\n    n: \"M\",\r\n    t: \"\",\r\n    L: \"\",\r\n    o: \"YYYY\",\r\n    Y: \"YYYY\",\r\n    y: \"YY\",\r\n    a: \"a\",\r\n    A: \"A\",\r\n    B: \"\",\r\n    g: \"h\",\r\n    G: \"H\",\r\n    h: \"hh\",\r\n    H: \"HH\",\r\n    i: \"mm\",\r\n    s: \"ss\",\r\n    u: \"SSS\",\r\n    e: \"zz\",\r\n    I: \"\",\r\n    O: \"\",\r\n    P: \"\",\r\n    T: \"\",\r\n    Z: \"\",\r\n    c: \"\",\r\n    r: \"\",\r\n    U: \"X\",\r\n    \" \": \" \",\r\n  };\r\n  const items = format.split(\"\");\r\n  var momentFormat = \"\";\r\n  for (let item in items) {\r\n    momentFormat += conversions[items[item]];\r\n  }\r\n  return momentFormat;\r\n}\r\n\r\n/**\r\n * Convert PHP date format to DayJS date format\r\n * @param {string} format PHP date format\r\n */\r\nfunction toDayJSFormat(format) {\r\n  var conversions = {\r\n    d: \"DD\",\r\n    D: \"ddd\",\r\n    j: \"D\",\r\n    l: \"dddd\",\r\n    N: \"\",\r\n    S: \"o\",\r\n    w: \"d\",\r\n    z: \"\",\r\n    W: \"\",\r\n    F: \"MMMM\",\r\n    m: \"MM\",\r\n    M: \"MMM\",\r\n    n: \"M\",\r\n    t: \"\",\r\n    L: \"\",\r\n    o: \"YYYY\",\r\n    Y: \"YYYY\",\r\n    y: \"YY\",\r\n    a: \"a\",\r\n    A: \"A\",\r\n    B: \"\",\r\n    g: \"h\",\r\n    G: \"H\",\r\n    h: \"hh\",\r\n    H: \"HH\",\r\n    i: \"mm\",\r\n    s: \"ss\",\r\n    u: \"\",\r\n    v: \"SSS\",\r\n    e: \"\",\r\n    I: \"\",\r\n    O: \"ZZ\",\r\n    P: \"Z\",\r\n    T: \"\",\r\n    Z: \"\",\r\n    c: \"\",\r\n    r: \"\",\r\n    U: \"X\",\r\n    \" \": \" \",\r\n  };\r\n  const items = format.split(\"\");\r\n  var momentFormat = \"\";\r\n  for (let item in items) {\r\n    momentFormat += conversions[items[item]];\r\n  }\r\n  return momentFormat;\r\n}\r\n\r\n/**\r\n * Convert milliseconds to human readable time\r\n * @param {number} millisec Float containing milliseconds\r\n * @see https://stackoverflow.com/a/32180863\r\n */\r\nfunction msToTime(millisec) {\r\n  var milliseconds = millisec.toFixed(2);\r\n  var seconds = (millisec / 1000).toFixed(1);\r\n  var minutes = (millisec / (1000 * 60)).toFixed(1);\r\n  var hours = (millisec / (1000 * 60 * 60)).toFixed(1);\r\n  var days = (millisec / (1000 * 60 * 60 * 24)).toFixed(1);\r\n  if (seconds <= 0) {\r\n    return milliseconds + \" ms\";\r\n  } else if (seconds < 60) {\r\n    return seconds + \" sec\";\r\n  } else if (minutes < 60) {\r\n    return minutes + \" min\";\r\n  } else if (hours < 24) {\r\n    return hours + \" hrs\";\r\n  } else {\r\n    return days + \" days\";\r\n  }\r\n}\r\n\r\nexport { searchFieldInit, searchPageInit };\r\n","/*\n * TinyDrawer.js\n * Modified for the Scholar Theme\n * @see https://github.com/jenstornell/tinyDrawer.js\n */\nclass TinyDrawer {\n  constructor(options) {\n    this.o = Object.assign({}, this.defaults(), options);\n  }\n\n  load() {\n    document.addEventListener(\"DOMContentLoaded\", () => {\n      this.setup();\n    });\n  }\n\n  defaults() {\n    return {\n      replacement: \"drawer\",\n      drawerSelector: \"drawer-menu\",\n    };\n  }\n\n  setup() {\n    this.elementDrawer = document.querySelector(this.o.drawerSelector);\n    if (\n      !this.elementDrawer &&\n      this.elementDrawer.nodeType !== Node.ELEMENT_NODE\n    ) {\n      return;\n    }\n    this.backdropAdd();\n    this.activeUnset();\n    this.elementOpen = document.querySelectorAll(\n      \"[data-\" + this.o.replacement + \"-open]\"\n    );\n    this.elementClose = document.querySelectorAll(\n      \"[data-\" +\n        this.o.replacement +\n        \"-backdrop], [data-\" +\n        this.o.replacement +\n        \"-close]\"\n    );\n    window.addEventListener(\n      \"keydown\",\n      function(event) {\n        switch (event.code) {\n          case \"Escape\":\n            if (\n              Scholar.tinyDrawerObj.elementDrawer.getAttribute(\n                \"aria-checked\"\n              ) === \"true\"\n            ) {\n              Scholar.toggleButtonState(\n                Scholar.tinyDrawerObj.elementDrawer,\n                \"false\"\n              );\n            }\n            break;\n        }\n      },\n      true\n    );\n    this.elementBackdrop.addEventListener(\n      \"click\",\n      function(event) {\n        if (\n          Scholar.tinyDrawerObj.elementDrawer.getAttribute(\"aria-checked\") ===\n          \"true\"\n        ) {\n          Scholar.toggleButtonState(\n            Scholar.tinyDrawerObj.elementDrawer,\n            \"false\"\n          );\n        }\n      },\n      true\n    );\n    this.observer = new MutationObserver(function(mutations) {\n      mutations.forEach(function(mutation) {\n        if (mutation.type == \"attributes\") {\n          if (mutation.target.getAttribute(\"aria-checked\") === \"true\") {\n            Scholar.tinyDrawerOpen(mutation.target);\n          } else if (mutation.target.getAttribute(\"aria-checked\") === \"false\") {\n            Scholar.tinyDrawerClose(mutation.target);\n          }\n        }\n      });\n    });\n    this.observer.observe(this.elementDrawer, {\n      attributes: true,\n    });\n  }\n\n  activeUnset() {\n    document.body.dataset[this.o.replacement] = \"\";\n  }\n\n  activeSet() {\n    document.body.dataset[this.o.replacement] = true;\n  }\n\n  offsetTopToVariable() {\n    var offsets = document.body.getBoundingClientRect();\n    this.top = -offsets.top;\n  }\n\n  open(element = null) {\n    this.activeSet();\n    this.offsetTopToVariable();\n    this.callback(element, \"open\");\n    document\n      .querySelector(\".drawer .drawer-inner\")\n      .setAttribute(\"aria-expanded\", \"true\");\n  }\n\n  close(element = null) {\n    this.activeUnset();\n    window.scrollTo(0, Math.abs(document.body.getBoundingClientRect().top));\n    this.callback(element, \"close\");\n    document\n      .querySelector(\".drawer .drawer-inner\")\n      .setAttribute(\"aria-expanded\", \"false\");\n  }\n\n  backdropAdd() {\n    let backdrop = document.createElement(\"div\");\n    backdrop.dataset[this.o.replacement + \"Backdrop\"] = \"\";\n    document.body.appendChild(backdrop);\n    this.elementBackdrop = document.querySelector(\n      \"[data-\" + this.o.replacement + \"-backdrop]\"\n    );\n  }\n\n  callback(element, action) {\n    if (typeof this.o.callback == \"undefined\") return;\n    this.o.callback(element, action);\n  }\n}\n\nvar tinyDrawerObj;\n\nfunction init(options = null) {\n  tinyDrawerObj = new TinyDrawer(options);\n  tinyDrawerObj.load();\n  return tinyDrawerObj;\n}\n\nfunction tinyDrawerOpen(e = null) {\n  let target = e ? e.target : null;\n  tinyDrawerObj.open(target);\n}\n\nfunction tinyDrawerClose(e = null) {\n  let target = e ? e.target : null;\n  tinyDrawerObj.close(target);\n}\n\nexport { init as drawerInit, tinyDrawerObj, tinyDrawerOpen, tinyDrawerClose };\n","function init() {\r\n  const links = document.querySelectorAll(\"[data-links-to]\");\r\n  if (links.length > 0) {\r\n    for (let i = 0; i < links.length; i++) {\r\n      if (links[i].dataset.linksTo.length < 1) {\r\n        continue;\r\n      }\r\n      const linksTo = JSON.parse(links[i].dataset.linksTo);\r\n      if (typeof linksTo == \"object\") {\r\n        for (let n = 0; n < linksTo.length; n++) {\r\n          var line = new LeaderLine(\r\n            links[i],\r\n            document.getElementById(linksTo[n]),\r\n            {}\r\n          );\r\n          // line.id = i + \"-\" + n;\r\n          // line.id = links[i].id + \"--\" + linksTo[n];\r\n          // console.log(line.id, line);\r\n          // console.log(document.getElementById(line.id));\r\n          if (\r\n            links[i].id == \"sequence-selvstendighet\" &&\r\n            document.getElementById(linksTo[n]).id ==\r\n              \"sequence-endringer-relasjoner\"\r\n          ) {\r\n            // console.log(\r\n            //   \"sequence-selvstendighet to sequence-endringer-relasjoner\",\r\n            //   line,\r\n            //   line.id,\r\n            //   line._id\r\n            // );\r\n            // console.log(\r\n            //   \"LINE_Y: \",\r\n            //   links[i].getBoundingClientRect().top +\r\n            //     window.pageYOffset +\r\n            //     links[i].getBoundingClientRect().height / 2\r\n            // );\r\n            line.color = \"rgba(30, 130, 250, 0.5)\";\r\n            /* line.setOptions({\r\n              // startSocket: \"bottom\",\r\n              // endSocket: \"left\",\r\n              startSocketGravity: [192, -172],\r\n              endSocketGravity: [-192, -172]\r\n            }); */\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    const sections = document.querySelectorAll(\r\n      \".sequence main article [role=list]\"\r\n    );\r\n    if (sections.length > 0) {\r\n      for (let i = 0; i < sections.length; i++) {\r\n        const dimensions = sections[i].getBoundingClientRect();\r\n        const computedStyles = window.getComputedStyle(sections[i]);\r\n        var shadow = document.createElement(\"div\");\r\n        shadow.style.position = \"absolute\";\r\n        shadow.style.top = dimensions.top + \"px\";\r\n        shadow.style.right = dimensions.right + \"px\";\r\n        shadow.style.bottom = dimensions.bottom + \"px\";\r\n        shadow.style.left = dimensions.left + \"px\";\r\n        shadow.style.width = dimensions.width + \"px\";\r\n        shadow.style.height = dimensions.height + \"px\";\r\n        shadow.style.backgroundColor = computedStyles.getPropertyValue(\r\n          \"background-color\"\r\n        );\r\n        sections[i].style.backgroundColor = \"transparent\";\r\n        document.querySelector(\".sequence main article\").append(shadow);\r\n      }\r\n    }\r\n    document.querySelectorAll(\".leader-line\").forEach(line => {\r\n      document.querySelector(\".sequence main article\").append(line);\r\n    });\r\n  }\r\n}\r\n\r\nexport { init as leaderLineInit };\r\n","// window.onload = function() {\n//   Scholar.accessibilityInit();\n//   Scholar.drawerInit();\n// };\n\nexport * from \"./accessibility.js\";\nexport * from \"./search.js\";\nexport * from \"./tinyDrawer.js\";\nexport * from \"./leader-line.js\";\n\n// Accept proper HMR in Parcel\nif (module && module.hot) {\n  module.hot.accept()\n}"]}