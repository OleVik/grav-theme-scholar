{"version":3,"sources":["accessibility.js","utilities.js","search.js","mobile.js","tinyDrawer.js","leader-line.js","theme.js","../../node_modules/parcel-bundler/src/builtins/hmr-runtime.js"],"names":["init","prefix","buttons","document","querySelectorAll","i","length","dataset","addEventListener","toggleHandler","buttonHandler","links","querySelector","classList","contains","window","event","code","click","destruct","removeEventListener","target","hasAttribute","location","getAttribute","targetElement","type","toggleButtonState","force","setAttribute","findGetParameter","parameterName","result","tmp","search","substr","split","forEach","item","decodeURIComponent","isEmpty","obj","Object","keys","every","k","searchFieldInit","data","fields","options","start","performance","now","dataIndex","toggleResults","FlexSearchOptions","doc","id","field","FlexSearch","add","console","debug","msToTime","debounce","searchQuery","srcElement","value","limit","then","results","renderResults","searchPageInit","assignSelectrOptions","categoriesSelector","getSelectOptions","tagsSelector","query","title","util","date","categories","tags","content","setValue","queryParams","assign","on","option","selected","push","splice","indexOf","index","where","limitSearch","fieldQuery","bool","slice","state","d1","d2","Date","getFullYear","getMonth","getDate","v","taxonomy","includes","sibling","targetNode","siblingNode","searchObserver","MutationObserver","mutations","mutation","attributeName","style","setProperty","removeProperty","observe","attributes","Scholar","accessibilityDestruct","innerHTML","paragraph","createElement","appendChild","createTextNode","ScholarTranslation","SEARCH","EMPTY","wrapper","header","anchor","textContent","url","GENERIC","AT","renderTime","renderTaxonomy","IN","WITH","normalize","accessibilityInit","searchRoute","dayjs","format","time","toDayJSFormat","systemDateformat","short","name","separator","String","n","text","charAt","toUpperCase","func","delay","inDebounce","context","args","arguments","clearTimeout","setTimeout","apply","throttle","lastFunc","lastRan","toMomentFormat","conversions","d","D","j","l","N","S","w","z","W","F","m","M","t","L","o","Y","y","a","A","B","g","G","h","H","s","u","e","I","O","P","T","Z","c","r","U","items","momentFormat","millisec","milliseconds","toFixed","seconds","minutes","hours","days","main","sidebar","sidebarObserver","display","linksObserver","TinyDrawer","defaults","setup","replacement","drawerSelector","elementDrawer","nodeType","Node","ELEMENT_NODE","backdropAdd","activeUnset","elementOpen","elementClose","tinyDrawerObj","observer","tinyDrawerOpen","tinyDrawerClose","body","offsets","getBoundingClientRect","top","element","activeSet","offsetTopToVariable","callback","scrollTo","Math","abs","backdrop","elementBackdrop","action","load","open","close","linksTo","JSON","parse","line","LeaderLine","getElementById","color","sections","dimensions","computedStyles","getComputedStyle","shadow","position","right","bottom","left","width","height","backgroundColor","getPropertyValue","append","module","hot","accept","OVERLAY_ID","OldModule","bundle","Module","moduleName","call","hotData","_acceptCallbacks","_disposeCallbacks","fn","dispose","checkedAssets","assetsToAccept","parent","isParcelRequire","WebSocket","hostname","protocol","ws","onmessage","handled","assets","asset","isNew","didAccept","hmrAcceptCheck","global","parcelRequire","generated","js","clear","hmrApply","hmrAcceptRun","reload","onclose","log","removeErrorOverlay","error","message","stack","overlay","createErrorOverlay","remove","stackTrace","innerText","getParents","modules","parents","dep","Array","isArray","concat","Function","deps","cached","cache","some","cb"],"mappings":"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","file":"theme.js","sourceRoot":"..\\src\\js","sourcesContent":["/**\r\n * Initialize accessibility helpers\r\n */\r\nfunction init(prefix = \"\") {\r\n  const buttons = document.querySelectorAll(`${prefix} [role=\"button\"]`);\r\n  for (var i = 0; i < buttons.length; ++i) {\r\n    if (\"target\" in buttons[i].dataset) {\r\n      buttons[i].addEventListener(\"click\", toggleHandler);\r\n      buttons[i].addEventListener(\"keydown\", toggleHandler);\r\n      buttons[i].addEventListener(\"keyup\", toggleHandler);\r\n    } else {\r\n      buttons[i].addEventListener(\"click\", buttonHandler);\r\n      buttons[i].addEventListener(\"keydown\", buttonHandler);\r\n      buttons[i].addEventListener(\"keyup\", buttonHandler);\r\n    }\r\n  }\r\n  const links = document.querySelectorAll(`${prefix} a[href]`);\r\n  for (var i = 0; i < links.length; ++i) {\r\n    links[i].addEventListener(\"click\", buttonHandler);\r\n    links[i].addEventListener(\"keydown\", buttonHandler);\r\n    links[i].addEventListener(\"keyup\", buttonHandler);\r\n  }\r\n  if (\r\n    document.querySelector(\".next-previous\") &&\r\n    document.querySelector(\"body\").classList.contains(\"docs\")\r\n  ) {\r\n    window.addEventListener(\r\n      \"keydown\",\r\n      function(event) {\r\n        switch (event.code) {\r\n          case \"ArrowLeft\":\r\n            if (\r\n              document.querySelector(\".next-previous article:first-of-type a\")\r\n            ) {\r\n              document\r\n                .querySelector(\".next-previous article:first-of-type a\")\r\n                .click();\r\n            }\r\n            break;\r\n          case \"ArrowRight\":\r\n            if (\r\n              document.querySelector(\".next-previous article:last-of-type a\")\r\n            ) {\r\n              document\r\n                .querySelector(\".next-previous article:last-of-type a\")\r\n                .click();\r\n            }\r\n            break;\r\n        }\r\n      },\r\n      true\r\n    );\r\n  }\r\n}\r\n\r\nfunction destruct(prefix = \"\") {\r\n  const buttons = document.querySelectorAll(`${prefix} [role=\"button\"]`);\r\n  for (var i = 0; i < buttons.length; ++i) {\r\n    if (\"target\" in buttons[i].dataset) {\r\n      buttons[i].removeEventListener(\"click\", toggleHandler);\r\n      buttons[i].removeEventListener(\"keydown\", toggleHandler);\r\n      buttons[i].removeEventListener(\"keyup\", toggleHandler);\r\n    } else {\r\n      buttons[i].removeEventListener(\"click\", buttonHandler);\r\n      buttons[i].removeEventListener(\"keydown\", buttonHandler);\r\n      buttons[i].removeEventListener(\"keyup\", buttonHandler);\r\n    }\r\n  }\r\n  const links = document.querySelectorAll(`${prefix} a[href]`);\r\n  for (var i = 0; i < links.length; ++i) {\r\n    links[i].removeEventListener(\"click\", buttonHandler);\r\n    links[i].removeEventListener(\"keydown\", buttonHandler);\r\n    links[i].removeEventListener(\"keyup\", buttonHandler);\r\n  }\r\n}\r\n\r\n/**\r\n * @param {MouseEvent|KeyboardEvent} event\r\n */\r\nfunction buttonHandler(event) {\r\n  if (event.target.hasAttribute(\"href\")) {\r\n    switch (event.code) {\r\n      case \"Space\":\r\n        event.target.click();\r\n        window.location = event.target.getAttribute(\"href\");\r\n        break;\r\n      case \"Enter\":\r\n        event.target.click();\r\n        window.location = event.target.getAttribute(\"href\");\r\n        break;\r\n    }\r\n  }\r\n}\r\n\r\n/**\r\n * @param {MouseEvent|KeyboardEvent} event\r\n */\r\nfunction toggleHandler(event) {\r\n  const targetElement = document.querySelector(event.target.dataset.target);\r\n  if (event.type === \"click\") {\r\n    toggleButtonState(targetElement);\r\n  } else if (event.type === \"keydown\") {\r\n    switch (event.code) {\r\n      case \"Space\":\r\n        toggleButtonState(targetElement);\r\n        break;\r\n      case \"Enter\":\r\n        toggleButtonState(targetElement);\r\n        break;\r\n      case \"Escape\":\r\n        toggleButtonState(targetElement, \"false\");\r\n        break;\r\n    }\r\n  }\r\n}\r\n\r\n/**\r\n * Toggles the button's target's state\r\n *\r\n * @param {HTMLElement} targetElement\r\n * @param {Boolean} force\r\n */\r\nfunction toggleButtonState(targetElement, force = null) {\r\n  if (targetElement.hasAttribute(\"aria-checked\")) {\r\n    if (force) {\r\n      targetElement.setAttribute(\"aria-checked\", force);\r\n      return;\r\n    }\r\n    if (targetElement.getAttribute(\"aria-checked\") === \"true\") {\r\n      targetElement.setAttribute(\"aria-checked\", \"false\");\r\n    } else if (targetElement.getAttribute(\"aria-checked\") === \"false\") {\r\n      targetElement.setAttribute(\"aria-checked\", \"true\");\r\n    }\r\n  }\r\n  if (targetElement.hasAttribute(\"aria-expanded\")) {\r\n    if (force) {\r\n      targetElement.setAttribute(\"aria-expanded\", force);\r\n      return;\r\n    }\r\n    if (targetElement.getAttribute(\"aria-expanded\") === \"true\") {\r\n      targetElement.setAttribute(\"aria-expanded\", \"false\");\r\n    } else if (targetElement.getAttribute(\"aria-expanded\") === \"false\") {\r\n      targetElement.setAttribute(\"aria-expanded\", \"true\");\r\n    }\r\n  }\r\n  if (targetElement.hasAttribute(\"aria-pressed\")) {\r\n    if (force) {\r\n      targetElement.setAttribute(\"aria-pressed\", force);\r\n      return;\r\n    }\r\n    if (targetElement.getAttribute(\"aria-pressed\") === \"true\") {\r\n      targetElement.setAttribute(\"aria-pressed\", \"false\");\r\n    } else if (targetElement.getAttribute(\"aria-pressed\") === \"false\") {\r\n      targetElement.setAttribute(\"aria-pressed\", \"true\");\r\n    }\r\n  }\r\n}\r\n\r\nexport {\r\n  init as accessibilityInit,\r\n  destruct as accessibilityDestruct,\r\n  buttonHandler,\r\n  toggleHandler,\r\n  toggleButtonState,\r\n};\r\n","/**\r\n * Get value from GET-parameter.\r\n * @param {string} parameterName GET-query parameter name.\r\n * @returns {string}\r\n */\r\nfunction findGetParameter(parameterName, type = null) {\r\n  var result = null,\r\n    tmp = [];\r\n  location.search\r\n    .substr(1)\r\n    .split(\"&\")\r\n    .forEach(function(item) {\r\n      tmp = item.split(\"=\");\r\n      if (tmp[0] === parameterName) {\r\n        result = decodeURIComponent(tmp[1]);\r\n      }\r\n    });\r\n  if (result !== null) {\r\n    return result;\r\n  } else {\r\n    return type;\r\n  }\r\n}\r\n\r\n/**\r\n * Check whether object is empty\r\n * @param {object} o Object to check.\r\n * @returns {boolean}\r\n * @see https://stackoverflow.com/a/51207685/603387\r\n */\r\nfunction isEmpty(obj) {\r\n  return Object.keys(obj).every(k => !Object.keys(obj[k]).length);\r\n}\r\n\r\nexport { findGetParameter, isEmpty };\r\n","import * as util from \"./utilities.js\";\r\n\r\n/**\r\n * Initialize metadata and content search\r\n * @param {object[]} data An array of objects, each representing a Page\r\n * @param {array} fields List of fields in each data-object\r\n * @param {array} options List of options for FlexSearch\r\n */\r\nfunction searchFieldInit(data, fields, options) {\r\n  const start = performance.now();\r\n  var dataIndex;\r\n  toggleResults(\"main aside.search\", \"main section\");\r\n  const FlexSearchOptions = options;\r\n  FlexSearchOptions.doc = {\r\n    id: \"url\",\r\n    field: fields,\r\n  };\r\n  dataIndex = new FlexSearch(FlexSearchOptions);\r\n  dataIndex.add(data);\r\n  console.debug(\r\n    `FlexSearch add(n = ${data.length}): ${msToTime(performance.now() - start)}`\r\n  );\r\n  document.querySelector(\"#query\").addEventListener(\r\n    \"keyup\",\r\n    debounce(function(event) {\r\n      const start = performance.now();\r\n      const searchQuery = event.srcElement.value;\r\n      dataIndex\r\n        .search(searchQuery, FlexSearchOptions.limit)\r\n        .then(function(results) {\r\n          console.debug(\r\n            `FlexSearch search(n = ${results.length}): ${msToTime(\r\n              performance.now() - start\r\n            )}`\r\n          );\r\n          renderResults(\".search-results\", results);\r\n          console.debug(\r\n            `FlexSearch render(n = ${results.length}): ${msToTime(\r\n              performance.now() - start\r\n            )}`\r\n          );\r\n        });\r\n    }, 200)\r\n  );\r\n  document.querySelector(\"#query\").addEventListener(\"focus\", function(event) {\r\n    event.target.setAttribute(\"aria-expanded\", \"true\");\r\n    document\r\n      .querySelector(\"main aside.search\")\r\n      .setAttribute(\"aria-expanded\", \"true\");\r\n  });\r\n  document.querySelector(\"#query\").addEventListener(\"blur\", function(event) {\r\n    event.target.setAttribute(\"aria-expanded\", \"false\");\r\n  });\r\n}\r\n\r\n/**\r\n * Initialize metadata and content search\r\n * @param {object[]} data An array of objects, each representing a Page\r\n * @param {array} fields List of fields in each data-object\r\n */\r\nfunction searchPageInit(data, fields, options) {\r\n  assignSelectrOptions(\r\n    window.categoriesSelector,\r\n    getSelectOptions(\"categories\", data)\r\n  );\r\n  assignSelectrOptions(window.tagsSelector, getSelectOptions(\"tags\", data));\r\n  const start = performance.now();\r\n  var dataIndex;\r\n  const FlexSearchOptions = options;\r\n  FlexSearchOptions.doc = {\r\n    id: \"url\",\r\n    field: fields,\r\n  };\r\n  const query = {\r\n    title: util.findGetParameter(\"title\", \"\"),\r\n    date: util.findGetParameter(\"date\", \"\"),\r\n    categories: util.findGetParameter(\"category\", \"\"),\r\n    tags: util.findGetParameter(\"tag\", \"\"),\r\n    content: decodeURIComponent(util.findGetParameter(\"content\", \"\")),\r\n    limit: FlexSearchOptions.limit || 10,\r\n  };\r\n  dataIndex = new FlexSearch(FlexSearchOptions);\r\n  dataIndex.add(data);\r\n  console.debug(\r\n    `FlexSearch add(n = ${data.length}): ${msToTime(performance.now() - start)}`\r\n  );\r\n  if (query.title !== \"\") {\r\n    document.querySelector(\".search-query #title\").value = query.title;\r\n  }\r\n  if (query.date !== \"\") {\r\n    document.querySelector(\".search-query #date\").value = query.date;\r\n  }\r\n  if (query.categories !== \"\") {\r\n    query.categories = query.categories.split(\",\");\r\n    window.categoriesSelector.setValue(query.categories);\r\n  } else {\r\n    query.categories = [];\r\n  }\r\n  if (query.tags !== \"\") {\r\n    query.tags = query.tags.split(\",\");\r\n    window.tagsSelector.setValue(query.tags);\r\n  } else {\r\n    query.tags = [];\r\n  }\r\n  if (query.content !== \"\") {\r\n    document.querySelector(\".search-query #content\").value = query.content;\r\n  }\r\n  const queryParams = Object.assign({}, query);\r\n  delete queryParams.limit;\r\n  if (!util.isEmpty(queryParams)) {\r\n    search(dataIndex, fields, query);\r\n  }\r\n  document.querySelector(\".search-query #title\").addEventListener(\r\n    \"keyup\",\r\n    debounce(function(event) {\r\n      query.title = event.srcElement.value;\r\n      search(dataIndex, fields, query);\r\n    }, 200)\r\n  );\r\n  document\r\n    .querySelector(\".search-query #date\")\r\n    .addEventListener(\"change\", function(event) {\r\n      query.date = event.srcElement.value;\r\n      search(dataIndex, fields, query);\r\n    });\r\n  if (typeof window.categoriesSelector !== \"undefined\") {\r\n    window.categoriesSelector.on(\"selectr.select\", function(option) {\r\n      if (option.selected) {\r\n        query.categories.push(option.value);\r\n        search(dataIndex, fields, query);\r\n      }\r\n    });\r\n    window.categoriesSelector.on(\"selectr.deselect\", function(option) {\r\n      if (!option.selected) {\r\n        if (dataIndex !== -1) {\r\n          query.categories.splice(query.categories.indexOf(option.value), 1);\r\n        }\r\n        search(dataIndex, fields, query);\r\n      }\r\n    });\r\n  }\r\n  if (typeof window.tagsSelector !== \"undefined\") {\r\n    window.tagsSelector.on(\"selectr.select\", function(option) {\r\n      if (option.selected) {\r\n        query.tags.push(option.value);\r\n        search(dataIndex, fields, query);\r\n      }\r\n    });\r\n    window.tagsSelector.on(\"selectr.deselect\", function(option) {\r\n      if (!option.selected) {\r\n        if (dataIndex !== -1) {\r\n          query.tags.splice(query.tags.indexOf(option.value), 1);\r\n        }\r\n        search(dataIndex, fields, query);\r\n      }\r\n    });\r\n  }\r\n  document.querySelector(\".search-query #content\").addEventListener(\r\n    \"keyup\",\r\n    debounce(function(event) {\r\n      query.content = event.srcElement.value;\r\n      search(dataIndex, fields, query);\r\n    }, 200)\r\n  );\r\n}\r\n\r\n/**\r\n *\r\n * @param {object} index Data to search\r\n * @param {array} fields List of fields in each data-object\r\n * @param {object} query Field constraints\r\n * @param {object} options FlexSearc options\r\n */\r\nfunction search(index, fields, query) {\r\n  const start = performance.now();\r\n  var data;\r\n  data = index.where(function(doc) {\r\n    return limitSearch(query, doc);\r\n  });\r\n  console.debug(\r\n    `FlexSearch where(n = ${data.length}): ${msToTime(\r\n      performance.now() - start\r\n    )}`\r\n  );\r\n  if (query.title !== \"\" || query.content !== \"\") {\r\n    var fieldQuery;\r\n    if (query.title !== \"\" && query.content === \"\") {\r\n      fieldQuery = [{ field: \"title\", query: query.title }];\r\n    } else if (query.title === \"\" && query.content !== \"\") {\r\n      fieldQuery = [{ field: \"content\", query: query.content }];\r\n    } else {\r\n      fieldQuery = [\r\n        {\r\n          field: \"title\",\r\n          query: query.title,\r\n          bool: \"and\",\r\n        },\r\n        {\r\n          field: \"content\",\r\n          query: query.content,\r\n          bool: \"or\",\r\n        },\r\n      ];\r\n    }\r\n    index.search(fieldQuery, query.limit).then(function(results) {\r\n      console.debug(\r\n        `FlexSearch search(n = ${results.length}): ${msToTime(\r\n          performance.now() - start\r\n        )}`\r\n      );\r\n      renderResults(\".search-results\", results);\r\n      console.debug(\r\n        `FlexSearch render(n = ${results.length}): ${msToTime(\r\n          performance.now() - start\r\n        )}`\r\n      );\r\n    });\r\n  } else if (query.title === \"\" && query.content === \"\") {\r\n    renderResults(\".search-results\", data.slice(0, query.limit));\r\n    console.debug(\r\n      `FlexSearch render(n = ${data.length}): ${msToTime(\r\n        performance.now() - start\r\n      )}`\r\n    );\r\n  }\r\n}\r\n\r\n/**\r\n * Constrain search results by field values\r\n * @param {object} query Field constraints\r\n * @param {object} doc Document\r\n */\r\nfunction limitSearch(query, doc) {\r\n  var state = false;\r\n  if (\r\n    query.date === \"\" &&\r\n    query.categories.length == 0 &&\r\n    query.tags.length == 0\r\n  ) {\r\n    state = true;\r\n  }\r\n  if (query.date !== \"\") {\r\n    state = (function(d1, d2) {\r\n      d1 = new Date(d1);\r\n      d2 = new Date(d2);\r\n      return (\r\n        d1.getFullYear() === d2.getFullYear() &&\r\n        d1.getMonth() === d2.getMonth() &&\r\n        d1.getDate() === d2.getDate()\r\n      );\r\n    })(query.date, doc.date);\r\n  }\r\n  if (query.categories.length > 0) {\r\n    state = query.categories.every(v => doc.taxonomy.categories.includes(v));\r\n  }\r\n  if (query.tags.length > 0) {\r\n    state = query.tags.every(v => doc.taxonomy.tags.includes(v));\r\n  }\r\n  return state;\r\n}\r\n\r\n/**\r\n * Toggle search results\r\n * @param {string} target Target element\r\n * @param {object} sibling Sibling element\r\n */\r\nfunction toggleResults(target, sibling) {\r\n  const targetNode = document.querySelector(target);\r\n  const siblingNode = document.querySelector(sibling);\r\n  const searchObserver = new MutationObserver(function(mutations) {\r\n    mutations.forEach(function(mutation) {\r\n      const value = targetNode.getAttribute(mutation.attributeName);\r\n      if (value == \"true\") {\r\n        siblingNode.style.setProperty(\"display\", \"none\");\r\n        targetNode.style.setProperty(\"display\", \"block\");\r\n      } else if (value == \"false\") {\r\n        siblingNode.style.setProperty(\"display\", \"block\");\r\n        targetNode.style.removeProperty(\"display\");\r\n      }\r\n    });\r\n  });\r\n  searchObserver.observe(targetNode, {\r\n    attributes: true,\r\n  });\r\n}\r\n\r\n/**\r\n * Render search results\r\n * @param {string} target  Target element\r\n * @param {object} results Search results\r\n */\r\nfunction renderResults(target, results) {\r\n  Scholar.accessibilityDestruct(target);\r\n  document.querySelector(target).innerHTML = \"\";\r\n  if (results.length < 1) {\r\n    const paragraph = document.createElement(\"p\");\r\n    paragraph.appendChild(\r\n      document.createTextNode(ScholarTranslation.SEARCH.EMPTY)\r\n    );\r\n    document.querySelector(target).appendChild(paragraph);\r\n  }\r\n  for (let i = 0; i < results.length; i++) {\r\n    const wrapper = document.createElement(\"div\");\r\n    const header = document.createElement(\"h3\");\r\n    const anchor = document.createElement(\"a\");\r\n    const paragraph = document.createElement(\"p\");\r\n    wrapper.appendChild(header);\r\n    wrapper.appendChild(paragraph);\r\n    header.appendChild(anchor);\r\n    anchor.textContent = results[i].title;\r\n    anchor.setAttribute(\"href\", results[i].url);\r\n    paragraph.appendChild(\r\n      document.createTextNode(ScholarTranslation.GENERIC.AT + \" \")\r\n    );\r\n    renderTime(paragraph, results[i].date);\r\n    renderTaxonomy(\r\n      paragraph,\r\n      results[i].taxonomy.categories,\r\n      \"category\",\r\n      ScholarTranslation.GENERIC.IN\r\n    );\r\n    renderTaxonomy(\r\n      paragraph,\r\n      results[i].taxonomy.tags,\r\n      \"tag\",\r\n      ScholarTranslation.GENERIC.WITH\r\n    );\r\n    paragraph.appendChild(document.createTextNode(\".\"));\r\n    paragraph.normalize();\r\n    document.querySelector(target).appendChild(wrapper);\r\n  }\r\n  Scholar.accessibilityInit(target);\r\n}\r\n\r\n/**\r\n * Create a localized time-tag\r\n * @param {HTMLElement} paragraph Reference to p-tag\r\n * @param {string} data Datetime as string\r\n */\r\nfunction renderTime(paragraph, data) {\r\n  const anchor = document.createElement(\"a\");\r\n  anchor.setAttribute(\r\n    \"href\",\r\n    `${searchRoute}/?date=${dayjs(data).format(\"YYYY-MM-DD\")}`\r\n  );\r\n  const time = document.createElement(\"time\");\r\n  time.setAttribute(\"datetime\", data);\r\n  time.appendChild(\r\n    document.createTextNode(\r\n      dayjs(data).format(toDayJSFormat(systemDateformat.short))\r\n    )\r\n  );\r\n  anchor.appendChild(time);\r\n  paragraph.appendChild(anchor);\r\n}\r\n\r\n/**\r\n * Create a-tags for taxonomy items\r\n * @param {HTMLElement} paragraph Reference to p-tag\r\n * @param {string|array} data Page taxonomy\r\n * @param {string} name Class name\r\n * @param {string} separator Semantic word\r\n */\r\nfunction renderTaxonomy(paragraph, data, name, separator) {\r\n  if (data === \"\" || data.length < 1) {\r\n    return;\r\n  }\r\n  paragraph.appendChild(document.createTextNode(` ${separator} `));\r\n  if (typeof data === \"string\" || data instanceof String) {\r\n    if (data.includes(\" \")) {\r\n      data = data.split(\" \");\r\n    } else {\r\n      data = [data];\r\n    }\r\n  }\r\n  for (let n = 0; n < data.length; n++) {\r\n    const taxonomy = document.createElement(\"a\");\r\n    taxonomy.classList.add(name);\r\n    taxonomy.setAttribute(\"href\", `${searchRoute}/?${name}=${data[n]}`);\r\n    taxonomy.appendChild(document.createTextNode(data[n]));\r\n    if (n > 0 && n < data.length) {\r\n      paragraph.appendChild(document.createTextNode(\", \"));\r\n    }\r\n    paragraph.appendChild(taxonomy);\r\n  }\r\n}\r\n\r\n/**\r\n * Add Taxonomy-data to Selectr-instance.\r\n * @param {object} target Selectr-handle.\r\n * @param {array} data Taxonomy-data.\r\n */\r\nfunction assignSelectrOptions(target, data) {\r\n  for (let i = 0; i < data.length; i++) {\r\n    target.add({\r\n      value: data[i],\r\n      text: data[i].charAt(0).toUpperCase() + data[i].slice(1),\r\n    });\r\n  }\r\n}\r\n\r\n/**\r\n * Filter taxonomy from Search-data\r\n * @param {string} target Type of taxonomy.\r\n * @param {array} data Search-data.\r\n * @returns {array}\r\n */\r\nfunction getSelectOptions(target, data) {\r\n  var options = [];\r\n  for (let i = 0; i < data.length; i++) {\r\n    if (\r\n      typeof data[i].taxonomy !== \"undefined\" &&\r\n      typeof data[i].taxonomy[target] !== \"undefined\" &&\r\n      data[i].taxonomy[target].length > 0\r\n    ) {\r\n      for (let n = 0; n < data[i].taxonomy[target].length; n++) {\r\n        if (!options.includes(data[i].taxonomy[target][n])) {\r\n          options.push(data[i].taxonomy[target][n]);\r\n        }\r\n      }\r\n    }\r\n  }\r\n  return options;\r\n}\r\n\r\n/**\r\n * Debounce execution of callback\r\n * @param {function} func Function to execute\r\n * @param {int} delay Millisecond delay\r\n * @see https://codeburst.io/throttling-and-debouncing-in-javascript-b01cad5c8edf\r\n */\r\nfunction debounce(func, delay) {\r\n  let inDebounce;\r\n  return function() {\r\n    const context = this;\r\n    const args = arguments;\r\n    clearTimeout(inDebounce);\r\n    inDebounce = setTimeout(() => func.apply(context, args), delay);\r\n  };\r\n}\r\n\r\n/**\r\n * Throttle execution of callback\r\n * @param {function} func Function to execute\r\n * @param {int} limit Millisecond limit\r\n * @see https://codeburst.io/throttling-and-debouncing-in-javascript-b01cad5c8edf\r\n */\r\nfunction throttle(func, limit) {\r\n  let lastFunc;\r\n  let lastRan;\r\n  return function() {\r\n    const context = this;\r\n    const args = arguments;\r\n    if (!lastRan) {\r\n      func.apply(context, args);\r\n      lastRan = Date.now();\r\n    } else {\r\n      clearTimeout(lastFunc);\r\n      lastFunc = setTimeout(function() {\r\n        if (Date.now() - lastRan >= limit) {\r\n          func.apply(context, args);\r\n          lastRan = Date.now();\r\n        }\r\n      }, limit - (Date.now() - lastRan));\r\n    }\r\n  };\r\n}\r\n\r\n/**\r\n * Convert PHP date format to Moment date format\r\n * @param {string} format PHP date format\r\n */\r\nfunction toMomentFormat(format) {\r\n  var conversions = {\r\n    d: \"DD\",\r\n    D: \"ddd\",\r\n    j: \"D\",\r\n    l: \"dddd\",\r\n    N: \"E\",\r\n    S: \"o\",\r\n    w: \"e\",\r\n    z: \"DDD\",\r\n    W: \"W\",\r\n    F: \"MMMM\",\r\n    m: \"MM\",\r\n    M: \"MMM\",\r\n    n: \"M\",\r\n    t: \"\",\r\n    L: \"\",\r\n    o: \"YYYY\",\r\n    Y: \"YYYY\",\r\n    y: \"YY\",\r\n    a: \"a\",\r\n    A: \"A\",\r\n    B: \"\",\r\n    g: \"h\",\r\n    G: \"H\",\r\n    h: \"hh\",\r\n    H: \"HH\",\r\n    i: \"mm\",\r\n    s: \"ss\",\r\n    u: \"SSS\",\r\n    e: \"zz\",\r\n    I: \"\",\r\n    O: \"\",\r\n    P: \"\",\r\n    T: \"\",\r\n    Z: \"\",\r\n    c: \"\",\r\n    r: \"\",\r\n    U: \"X\",\r\n    \" \": \" \",\r\n  };\r\n  const items = format.split(\"\");\r\n  var momentFormat = \"\";\r\n  for (let item in items) {\r\n    momentFormat += conversions[items[item]];\r\n  }\r\n  return momentFormat;\r\n}\r\n\r\n/**\r\n * Convert PHP date format to DayJS date format\r\n * @param {string} format PHP date format\r\n */\r\nfunction toDayJSFormat(format) {\r\n  var conversions = {\r\n    d: \"DD\",\r\n    D: \"ddd\",\r\n    j: \"D\",\r\n    l: \"dddd\",\r\n    N: \"\",\r\n    S: \"o\",\r\n    w: \"d\",\r\n    z: \"\",\r\n    W: \"\",\r\n    F: \"MMMM\",\r\n    m: \"MM\",\r\n    M: \"MMM\",\r\n    n: \"M\",\r\n    t: \"\",\r\n    L: \"\",\r\n    o: \"YYYY\",\r\n    Y: \"YYYY\",\r\n    y: \"YY\",\r\n    a: \"a\",\r\n    A: \"A\",\r\n    B: \"\",\r\n    g: \"h\",\r\n    G: \"H\",\r\n    h: \"hh\",\r\n    H: \"HH\",\r\n    i: \"mm\",\r\n    s: \"ss\",\r\n    u: \"\",\r\n    v: \"SSS\",\r\n    e: \"\",\r\n    I: \"\",\r\n    O: \"ZZ\",\r\n    P: \"Z\",\r\n    T: \"\",\r\n    Z: \"\",\r\n    c: \"\",\r\n    r: \"\",\r\n    U: \"X\",\r\n    \" \": \" \",\r\n  };\r\n  const items = format.split(\"\");\r\n  var momentFormat = \"\";\r\n  for (let item in items) {\r\n    momentFormat += conversions[items[item]];\r\n  }\r\n  return momentFormat;\r\n}\r\n\r\n/**\r\n * Convert milliseconds to human readable time\r\n * @param {number} millisec Float containing milliseconds\r\n * @see https://stackoverflow.com/a/32180863\r\n */\r\nfunction msToTime(millisec) {\r\n  var milliseconds = millisec.toFixed(2);\r\n  var seconds = (millisec / 1000).toFixed(1);\r\n  var minutes = (millisec / (1000 * 60)).toFixed(1);\r\n  var hours = (millisec / (1000 * 60 * 60)).toFixed(1);\r\n  var days = (millisec / (1000 * 60 * 60 * 24)).toFixed(1);\r\n  if (seconds <= 0) {\r\n    return milliseconds + \" ms\";\r\n  } else if (seconds < 60) {\r\n    return seconds + \" sec\";\r\n  } else if (minutes < 60) {\r\n    return minutes + \" min\";\r\n  } else if (hours < 24) {\r\n    return hours + \" hrs\";\r\n  } else {\r\n    return days + \" days\";\r\n  }\r\n}\r\n\r\nexport { searchFieldInit, searchPageInit };\r\n","/**\r\n * Initialize mobile helpers\r\n */\r\nfunction init() {\r\n  const main = document.querySelector(\"main\");\r\n  const sidebar = document.querySelector(\"aside.sidebar\");\r\n  const links = document.querySelector(\"nav[role='navigation'].links\");\r\n  if (main && sidebar) {\r\n    const sidebarObserver = new MutationObserver(function(mutations) {\r\n      mutations.forEach(function(mutation) {\r\n        if (mutation.type == \"attributes\") {\r\n          if (mutation.target.getAttribute(\"aria-checked\") === \"true\") {\r\n            main.style.display = \"none\";\r\n            mutation.target.style.display = \"flex\";\r\n          } else if (mutation.target.getAttribute(\"aria-checked\") === \"false\") {\r\n            mutation.target.style.display = \"none\";\r\n            main.style.display = \"flex\";\r\n          }\r\n        }\r\n      });\r\n    });\r\n    sidebarObserver.observe(sidebar, {\r\n      attributes: true,\r\n    });\r\n  }\r\n  if (links) {\r\n    const linksObserver = new MutationObserver(function(mutations) {\r\n      mutations.forEach(function(mutation) {\r\n        if (mutation.type == \"attributes\") {\r\n          if (mutation.target.getAttribute(\"aria-checked\") === \"true\") {\r\n            links.style.display = \"block\";\r\n          } else if (mutation.target.getAttribute(\"aria-checked\") === \"false\") {\r\n            links.style.display = \"none\";\r\n          }\r\n        }\r\n      });\r\n    });\r\n    linksObserver.observe(links, {\r\n      attributes: true,\r\n    });\r\n  }\r\n}\r\n\r\nexport { init as mobileInit };\r\n","/*\r\n * TinyDrawer.js\r\n * Modified for the Scholar Theme\r\n * @see https://github.com/jenstornell/tinyDrawer.js\r\n */\r\nclass TinyDrawer {\r\n  constructor(options) {\r\n    this.o = Object.assign({}, this.defaults(), options);\r\n  }\r\n\r\n  load() {\r\n    document.addEventListener(\"DOMContentLoaded\", () => {\r\n      this.setup();\r\n    });\r\n  }\r\n\r\n  defaults() {\r\n    return {\r\n      replacement: \"drawer\",\r\n      drawerSelector: \"drawer-menu\",\r\n    };\r\n  }\r\n\r\n  setup() {\r\n    this.elementDrawer = document.querySelector(this.o.drawerSelector);\r\n    if (\r\n      !this.elementDrawer &&\r\n      this.elementDrawer.nodeType !== Node.ELEMENT_NODE\r\n    ) {\r\n      return;\r\n    }\r\n    this.backdropAdd();\r\n    this.activeUnset();\r\n    this.elementOpen = document.querySelectorAll(\r\n      \"[data-\" + this.o.replacement + \"-open]\"\r\n    );\r\n    this.elementClose = document.querySelectorAll(\r\n      \"[data-\" +\r\n        this.o.replacement +\r\n        \"-backdrop], [data-\" +\r\n        this.o.replacement +\r\n        \"-close]\"\r\n    );\r\n    window.addEventListener(\r\n      \"keydown\",\r\n      function(event) {\r\n        switch (event.code) {\r\n          case \"Escape\":\r\n            if (\r\n              Scholar.tinyDrawerObj.elementDrawer.getAttribute(\r\n                \"aria-checked\"\r\n              ) === \"true\"\r\n            ) {\r\n              Scholar.toggleButtonState(\r\n                Scholar.tinyDrawerObj.elementDrawer,\r\n                \"false\"\r\n              );\r\n            }\r\n            break;\r\n        }\r\n      },\r\n      true\r\n    );\r\n    this.elementClose.forEach(item => {\r\n      item.addEventListener(\r\n        \"click\",\r\n        function(event) {\r\n          if (\r\n            Scholar.tinyDrawerObj.elementDrawer.getAttribute(\"aria-checked\") ===\r\n            \"true\"\r\n          ) {\r\n            Scholar.toggleButtonState(\r\n              Scholar.tinyDrawerObj.elementDrawer,\r\n              \"false\"\r\n            );\r\n          }\r\n        },\r\n        true\r\n      );\r\n    });\r\n    this.observer = new MutationObserver(function(mutations) {\r\n      mutations.forEach(function(mutation) {\r\n        if (mutation.type == \"attributes\") {\r\n          if (mutation.target.getAttribute(\"aria-checked\") === \"true\") {\r\n            Scholar.tinyDrawerOpen(mutation.target);\r\n          } else if (mutation.target.getAttribute(\"aria-checked\") === \"false\") {\r\n            Scholar.tinyDrawerClose(mutation.target);\r\n          }\r\n        }\r\n      });\r\n    });\r\n    this.observer.observe(this.elementDrawer, {\r\n      attributes: true,\r\n    });\r\n  }\r\n\r\n  activeUnset() {\r\n    document.body.dataset[this.o.replacement] = \"\";\r\n  }\r\n\r\n  activeSet() {\r\n    document.body.dataset[this.o.replacement] = true;\r\n  }\r\n\r\n  offsetTopToVariable() {\r\n    var offsets = document.body.getBoundingClientRect();\r\n    this.top = -offsets.top;\r\n  }\r\n\r\n  open(element = null) {\r\n    this.activeSet();\r\n    this.offsetTopToVariable();\r\n    this.callback(element, \"open\");\r\n    document\r\n      .querySelector(\".drawer .drawer-inner\")\r\n      .setAttribute(\"aria-expanded\", \"true\");\r\n  }\r\n\r\n  close(element = null) {\r\n    this.activeUnset();\r\n    window.scrollTo(0, Math.abs(document.body.getBoundingClientRect().top));\r\n    this.callback(element, \"close\");\r\n    document\r\n      .querySelector(\".drawer .drawer-inner\")\r\n      .setAttribute(\"aria-expanded\", \"false\");\r\n  }\r\n\r\n  backdropAdd() {\r\n    let backdrop = document.createElement(\"div\");\r\n    backdrop.dataset[this.o.replacement + \"Backdrop\"] = \"\";\r\n    document.body.appendChild(backdrop);\r\n    this.elementBackdrop = document.querySelector(\r\n      \"[data-\" + this.o.replacement + \"-backdrop]\"\r\n    );\r\n  }\r\n\r\n  callback(element, action) {\r\n    if (typeof this.o.callback == \"undefined\") return;\r\n    this.o.callback(element, action);\r\n  }\r\n}\r\n\r\nvar tinyDrawerObj;\r\n\r\nfunction init(options = null) {\r\n  tinyDrawerObj = new TinyDrawer(options);\r\n  tinyDrawerObj.load();\r\n  return tinyDrawerObj;\r\n}\r\n\r\nfunction tinyDrawerOpen(e = null) {\r\n  let target = e ? e.target : null;\r\n  tinyDrawerObj.open(target);\r\n}\r\n\r\nfunction tinyDrawerClose(e = null) {\r\n  let target = e ? e.target : null;\r\n  tinyDrawerObj.close(target);\r\n}\r\n\r\nexport { init as drawerInit, tinyDrawerObj, tinyDrawerOpen, tinyDrawerClose };\r\n","function init() {\r\n  const links = document.querySelectorAll(\"[data-links-to]\");\r\n  if (links.length > 0) {\r\n    for (let i = 0; i < links.length; i++) {\r\n      if (links[i].dataset.linksTo.length < 1) {\r\n        continue;\r\n      }\r\n      const linksTo = JSON.parse(links[i].dataset.linksTo);\r\n      if (typeof linksTo == \"object\") {\r\n        for (let n = 0; n < linksTo.length; n++) {\r\n          var line = new LeaderLine(\r\n            links[i],\r\n            document.getElementById(linksTo[n]),\r\n            {}\r\n          );\r\n          // line.id = i + \"-\" + n;\r\n          // line.id = links[i].id + \"--\" + linksTo[n];\r\n          // console.log(line.id, line);\r\n          // console.log(document.getElementById(line.id));\r\n          if (\r\n            links[i].id == \"sequence-selvstendighet\" &&\r\n            document.getElementById(linksTo[n]).id ==\r\n              \"sequence-endringer-relasjoner\"\r\n          ) {\r\n            // console.log(\r\n            //   \"sequence-selvstendighet to sequence-endringer-relasjoner\",\r\n            //   line,\r\n            //   line.id,\r\n            //   line._id\r\n            // );\r\n            // console.log(\r\n            //   \"LINE_Y: \",\r\n            //   links[i].getBoundingClientRect().top +\r\n            //     window.pageYOffset +\r\n            //     links[i].getBoundingClientRect().height / 2\r\n            // );\r\n            line.color = \"rgba(30, 130, 250, 0.5)\";\r\n            /* line.setOptions({\r\n              // startSocket: \"bottom\",\r\n              // endSocket: \"left\",\r\n              startSocketGravity: [192, -172],\r\n              endSocketGravity: [-192, -172]\r\n            }); */\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    const sections = document.querySelectorAll(\r\n      \".sequence main article [role=list]\"\r\n    );\r\n    if (sections.length > 0) {\r\n      for (let i = 0; i < sections.length; i++) {\r\n        const dimensions = sections[i].getBoundingClientRect();\r\n        const computedStyles = window.getComputedStyle(sections[i]);\r\n        var shadow = document.createElement(\"div\");\r\n        shadow.style.position = \"absolute\";\r\n        shadow.style.top = dimensions.top + \"px\";\r\n        shadow.style.right = dimensions.right + \"px\";\r\n        shadow.style.bottom = dimensions.bottom + \"px\";\r\n        shadow.style.left = dimensions.left + \"px\";\r\n        shadow.style.width = dimensions.width + \"px\";\r\n        shadow.style.height = dimensions.height + \"px\";\r\n        shadow.style.backgroundColor = computedStyles.getPropertyValue(\r\n          \"background-color\"\r\n        );\r\n        sections[i].style.backgroundColor = \"transparent\";\r\n        document.querySelector(\".sequence main article\").append(shadow);\r\n      }\r\n    }\r\n    document.querySelectorAll(\".leader-line\").forEach(line => {\r\n      document.querySelector(\".sequence main article\").append(line);\r\n    });\r\n  }\r\n}\r\n\r\nexport { init as leaderLineInit };\r\n","export * from \"./accessibility.js\";\r\nexport * from \"./search.js\";\r\nexport * from \"./mobile.js\";\r\nexport * from \"./tinyDrawer.js\";\r\nexport * from \"./leader-line.js\";\r\n\r\n// Accept proper HMR in Parcel\r\nif (module && module.hot) {\r\n  module.hot.accept();\r\n}\r\n","var OVERLAY_ID = '__parcel__error__overlay__';\n\nvar OldModule = module.bundle.Module;\n\nfunction Module(moduleName) {\n  OldModule.call(this, moduleName);\n  this.hot = {\n    data: module.bundle.hotData,\n    _acceptCallbacks: [],\n    _disposeCallbacks: [],\n    accept: function (fn) {\n      this._acceptCallbacks.push(fn || function () {});\n    },\n    dispose: function (fn) {\n      this._disposeCallbacks.push(fn);\n    }\n  };\n\n  module.bundle.hotData = null;\n}\n\nmodule.bundle.Module = Module;\nvar checkedAssets, assetsToAccept;\n\nvar parent = module.bundle.parent;\nif ((!parent || !parent.isParcelRequire) && typeof WebSocket !== 'undefined') {\n  var hostname = process.env.HMR_HOSTNAME || location.hostname;\n  var protocol = location.protocol === 'https:' ? 'wss' : 'ws';\n  var ws = new WebSocket(protocol + '://' + hostname + ':' + process.env.HMR_PORT + '/');\n  ws.onmessage = function(event) {\n    checkedAssets = {};\n    assetsToAccept = [];\n\n    var data = JSON.parse(event.data);\n\n    if (data.type === 'update') {\n      var handled = false;\n      data.assets.forEach(function(asset) {\n        if (!asset.isNew) {\n          var didAccept = hmrAcceptCheck(global.parcelRequire, asset.id);\n          if (didAccept) {\n            handled = true;\n          }\n        }\n      });\n\n      // Enable HMR for CSS by default.\n      handled = handled || data.assets.every(function(asset) {\n        return asset.type === 'css' && asset.generated.js;\n      });\n\n      if (handled) {\n        console.clear();\n\n        data.assets.forEach(function (asset) {\n          hmrApply(global.parcelRequire, asset);\n        });\n\n        assetsToAccept.forEach(function (v) {\n          hmrAcceptRun(v[0], v[1]);\n        });\n      } else if (location.reload) { // `location` global exists in a web worker context but lacks `.reload()` function.\n        location.reload();\n      }\n    }\n\n    if (data.type === 'reload') {\n      ws.close();\n      ws.onclose = function () {\n        location.reload();\n      }\n    }\n\n    if (data.type === 'error-resolved') {\n      console.log('[parcel] ✨ Error resolved');\n\n      removeErrorOverlay();\n    }\n\n    if (data.type === 'error') {\n      console.error('[parcel] 🚨  ' + data.error.message + '\\n' + data.error.stack);\n\n      removeErrorOverlay();\n\n      var overlay = createErrorOverlay(data);\n      document.body.appendChild(overlay);\n    }\n  };\n}\n\nfunction removeErrorOverlay() {\n  var overlay = document.getElementById(OVERLAY_ID);\n  if (overlay) {\n    overlay.remove();\n  }\n}\n\nfunction createErrorOverlay(data) {\n  var overlay = document.createElement('div');\n  overlay.id = OVERLAY_ID;\n\n  // html encode message and stack trace\n  var message = document.createElement('div');\n  var stackTrace = document.createElement('pre');\n  message.innerText = data.error.message;\n  stackTrace.innerText = data.error.stack;\n\n  overlay.innerHTML = (\n    '<div style=\"background: black; font-size: 16px; color: white; position: fixed; height: 100%; width: 100%; top: 0px; left: 0px; padding: 30px; opacity: 0.85; font-family: Menlo, Consolas, monospace; z-index: 9999;\">' +\n      '<span style=\"background: red; padding: 2px 4px; border-radius: 2px;\">ERROR</span>' +\n      '<span style=\"top: 2px; margin-left: 5px; position: relative;\">🚨</span>' +\n      '<div style=\"font-size: 18px; font-weight: bold; margin-top: 20px;\">' + message.innerHTML + '</div>' +\n      '<pre>' + stackTrace.innerHTML + '</pre>' +\n    '</div>'\n  );\n\n  return overlay;\n\n}\n\nfunction getParents(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return [];\n  }\n\n  var parents = [];\n  var k, d, dep;\n\n  for (k in modules) {\n    for (d in modules[k][1]) {\n      dep = modules[k][1][d];\n      if (dep === id || (Array.isArray(dep) && dep[dep.length - 1] === id)) {\n        parents.push(k);\n      }\n    }\n  }\n\n  if (bundle.parent) {\n    parents = parents.concat(getParents(bundle.parent, id));\n  }\n\n  return parents;\n}\n\nfunction hmrApply(bundle, asset) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (modules[asset.id] || !bundle.parent) {\n    var fn = new Function('require', 'module', 'exports', asset.generated.js);\n    asset.isNew = !modules[asset.id];\n    modules[asset.id] = [fn, asset.deps];\n  } else if (bundle.parent) {\n    hmrApply(bundle.parent, asset);\n  }\n}\n\nfunction hmrAcceptCheck(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (!modules[id] && bundle.parent) {\n    return hmrAcceptCheck(bundle.parent, id);\n  }\n\n  if (checkedAssets[id]) {\n    return;\n  }\n  checkedAssets[id] = true;\n\n  var cached = bundle.cache[id];\n\n  assetsToAccept.push([bundle, id]);\n\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    return true;\n  }\n\n  return getParents(global.parcelRequire, id).some(function (id) {\n    return hmrAcceptCheck(global.parcelRequire, id)\n  });\n}\n\nfunction hmrAcceptRun(bundle, id) {\n  var cached = bundle.cache[id];\n  bundle.hotData = {};\n  if (cached) {\n    cached.hot.data = bundle.hotData;\n  }\n\n  if (cached && cached.hot && cached.hot._disposeCallbacks.length) {\n    cached.hot._disposeCallbacks.forEach(function (cb) {\n      cb(bundle.hotData);\n    });\n  }\n\n  delete bundle.cache[id];\n  bundle(id);\n\n  cached = bundle.cache[id];\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    cached.hot._acceptCallbacks.forEach(function (cb) {\n      cb();\n    });\n    return true;\n  }\n}\n"]}