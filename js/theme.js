!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).Scholar={})}(this,(function(e){"use strict";function t(e){if(e.target.hasAttribute("href"))switch(e.code){case"Space":case"Enter":e.target.click(),window.location=e.target.getAttribute("href")}}function n(e){var t=document.querySelector(e.target.dataset.target);if("click"===e.type)r(t);else if("keydown"===e.type)switch(e.code){case"Space":case"Enter":r(t);break;case"Escape":r(t,"false")}}function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(e.hasAttribute("aria-checked")){if(t)return void e.setAttribute("aria-checked",t);"true"===e.getAttribute("aria-checked")?e.setAttribute("aria-checked","false"):"false"===e.getAttribute("aria-checked")&&e.setAttribute("aria-checked","true")}if(e.hasAttribute("aria-expanded")){if(t)return void e.setAttribute("aria-expanded",t);"true"===e.getAttribute("aria-expanded")?e.setAttribute("aria-expanded","false"):"false"===e.getAttribute("aria-expanded")&&e.setAttribute("aria-expanded","true")}if(e.hasAttribute("aria-pressed")){if(t)return void e.setAttribute("aria-pressed",t);"true"===e.getAttribute("aria-pressed")?e.setAttribute("aria-pressed","false"):"false"===e.getAttribute("aria-pressed")&&e.setAttribute("aria-pressed","true")}}var o="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function i(e){var t={exports:{}};return e(t,t.exports),t.exports}var a=function(e){return e&&e.Math==Math&&e},c=a("object"==typeof globalThis&&globalThis)||a("object"==typeof window&&window)||a("object"==typeof self&&self)||a("object"==typeof o&&o)||function(){return this}()||Function("return this")(),l=function(e){try{return!!e()}catch(e){return!0}},u=!l((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),s={}.propertyIsEnumerable,d=Object.getOwnPropertyDescriptor,f={f:d&&!s.call({1:2},1)?function(e){var t=d(this,e);return!!t&&t.enumerable}:s},p=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},h={}.toString,g=function(e){return h.call(e).slice(8,-1)},y="".split,v=l((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==g(e)?y.call(e,""):Object(e)}:Object,m=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e},b=function(e){return v(m(e))},S=function(e){return"object"==typeof e?null!==e:"function"==typeof e},w=function(e,t){if(!S(e))return e;var n,r;if(t&&"function"==typeof(n=e.toString)&&!S(r=n.call(e)))return r;if("function"==typeof(n=e.valueOf)&&!S(r=n.call(e)))return r;if(!t&&"function"==typeof(n=e.toString)&&!S(r=n.call(e)))return r;throw TypeError("Can't convert object to primitive value")},x={}.hasOwnProperty,E=function(e,t){return x.call(e,t)},k=c.document,A=S(k)&&S(k.createElement),O=function(e){return A?k.createElement(e):{}},T=!u&&!l((function(){return 7!=Object.defineProperty(O("div"),"a",{get:function(){return 7}}).a})),L=Object.getOwnPropertyDescriptor,q={f:u?L:function(e,t){if(e=b(e),t=w(t,!0),T)try{return L(e,t)}catch(e){}if(E(e,t))return p(!f.f.call(e,t),e[t])}},j=function(e){if(!S(e))throw TypeError(String(e)+" is not an object");return e},C=Object.defineProperty,M={f:u?C:function(e,t,n){if(j(e),t=w(t,!0),j(n),T)try{return C(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},I=u?function(e,t,n){return M.f(e,t,p(1,n))}:function(e,t,n){return e[t]=n,e},D=function(e,t){try{I(c,e,t)}catch(n){c[e]=t}return t},R="__core-js_shared__",P=c[R]||D(R,{}),N=Function.toString;"function"!=typeof P.inspectSource&&(P.inspectSource=function(e){return N.call(e)});var F,Y,_,B=P.inspectSource,U=c.WeakMap,G="function"==typeof U&&/native code/.test(B(U)),H=i((function(e){(e.exports=function(e,t){return P[e]||(P[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.9.1",mode:"global",copyright:"Â© 2021 Denis Pushkarev (zloirock.ru)"})})),V=0,W=Math.random(),$=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++V+W).toString(36)},z=H("keys"),K=function(e){return z[e]||(z[e]=$(e))},Z={},X=c.WeakMap;if(G){var J=P.state||(P.state=new X),Q=J.get,ee=J.has,te=J.set;F=function(e,t){return t.facade=e,te.call(J,e,t),t},Y=function(e){return Q.call(J,e)||{}},_=function(e){return ee.call(J,e)}}else{var ne=K("state");Z[ne]=!0,F=function(e,t){return t.facade=e,I(e,ne,t),t},Y=function(e){return E(e,ne)?e[ne]:{}},_=function(e){return E(e,ne)}}var re,oe,ie={set:F,get:Y,has:_,enforce:function(e){return _(e)?Y(e):F(e,{})},getterFor:function(e){return function(t){var n;if(!S(t)||(n=Y(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return n}}},ae=i((function(e){var t=ie.get,n=ie.enforce,r=String(String).split("String");(e.exports=function(e,t,o,i){var a,l=!!i&&!!i.unsafe,u=!!i&&!!i.enumerable,s=!!i&&!!i.noTargetGet;"function"==typeof o&&("string"!=typeof t||E(o,"name")||I(o,"name",t),(a=n(o)).source||(a.source=r.join("string"==typeof t?t:""))),e!==c?(l?!s&&e[t]&&(u=!0):delete e[t],u?e[t]=o:I(e,t,o)):u?e[t]=o:D(t,o)})(Function.prototype,"toString",(function(){return"function"==typeof this&&t(this).source||B(this)}))})),ce=c,le=function(e){return"function"==typeof e?e:void 0},ue=function(e,t){return arguments.length<2?le(ce[e])||le(c[e]):ce[e]&&ce[e][t]||c[e]&&c[e][t]},se=Math.ceil,de=Math.floor,fe=function(e){return isNaN(e=+e)?0:(e>0?de:se)(e)},pe=Math.min,he=function(e){return e>0?pe(fe(e),9007199254740991):0},ge=Math.max,ye=Math.min,ve=function(e,t){var n=fe(e);return n<0?ge(n+t,0):ye(n,t)},me=function(e){return function(t,n,r){var o,i=b(t),a=he(i.length),c=ve(r,a);if(e&&n!=n){for(;a>c;)if((o=i[c++])!=o)return!0}else for(;a>c;c++)if((e||c in i)&&i[c]===n)return e||c||0;return!e&&-1}},be={includes:me(!0),indexOf:me(!1)},Se=be.indexOf,we=function(e,t){var n,r=b(e),o=0,i=[];for(n in r)!E(Z,n)&&E(r,n)&&i.push(n);for(;t.length>o;)E(r,n=t[o++])&&(~Se(i,n)||i.push(n));return i},xe=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],Ee=xe.concat("length","prototype"),ke={f:Object.getOwnPropertyNames||function(e){return we(e,Ee)}},Ae={f:Object.getOwnPropertySymbols},Oe=ue("Reflect","ownKeys")||function(e){var t=ke.f(j(e)),n=Ae.f;return n?t.concat(n(e)):t},Te=function(e,t){for(var n=Oe(t),r=M.f,o=q.f,i=0;i<n.length;i++){var a=n[i];E(e,a)||r(e,a,o(t,a))}},Le=/#|\.prototype\./,qe=function(e,t){var n=Ce[je(e)];return n==Ie||n!=Me&&("function"==typeof t?l(t):!!t)},je=qe.normalize=function(e){return String(e).replace(Le,".").toLowerCase()},Ce=qe.data={},Me=qe.NATIVE="N",Ie=qe.POLYFILL="P",De=qe,Re=q.f,Pe=function(e,t){var n,r,o,i,a,l=e.target,u=e.global,s=e.stat;if(n=u?c:s?c[l]||D(l,{}):(c[l]||{}).prototype)for(r in t){if(i=t[r],o=e.noTargetGet?(a=Re(n,r))&&a.value:n[r],!De(u?r:l+(s?".":"#")+r,e.forced)&&void 0!==o){if(typeof i==typeof o)continue;Te(i,o)}(e.sham||o&&o.sham)&&I(i,"sham",!0),ae(n,r,i,e)}},Ne=Array.isArray||function(e){return"Array"==g(e)},Fe=function(e){return Object(m(e))},Ye=function(e,t,n){var r=w(t);r in e?M.f(e,r,p(0,n)):e[r]=n},_e="process"==g(c.process),Be=ue("navigator","userAgent")||"",Ue=c.process,Ge=Ue&&Ue.versions,He=Ge&&Ge.v8;He?oe=(re=He.split("."))[0]+re[1]:Be&&(!(re=Be.match(/Edge\/(\d+)/))||re[1]>=74)&&(re=Be.match(/Chrome\/(\d+)/))&&(oe=re[1]);var Ve=oe&&+oe,We=!!Object.getOwnPropertySymbols&&!l((function(){return!Symbol.sham&&(_e?38===Ve:Ve>37&&Ve<41)})),$e=We&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,ze=H("wks"),Ke=c.Symbol,Ze=$e?Ke:Ke&&Ke.withoutSetter||$,Xe=function(e){return E(ze,e)&&(We||"string"==typeof ze[e])||(We&&E(Ke,e)?ze[e]=Ke[e]:ze[e]=Ze("Symbol."+e)),ze[e]},Je=Xe("species"),Qe=function(e,t){var n;return Ne(e)&&("function"!=typeof(n=e.constructor)||n!==Array&&!Ne(n.prototype)?S(n)&&null===(n=n[Je])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===t?0:t)},et=Xe("species"),tt=function(e){return Ve>=51||!l((function(){var t=[];return(t.constructor={})[et]=function(){return{foo:1}},1!==t[e](Boolean).foo}))},nt=Xe("isConcatSpreadable"),rt=9007199254740991,ot="Maximum allowed index exceeded",it=Ve>=51||!l((function(){var e=[];return e[nt]=!1,e.concat()[0]!==e})),at=tt("concat"),ct=function(e){if(!S(e))return!1;var t=e[nt];return void 0!==t?!!t:Ne(e)};Pe({target:"Array",proto:!0,forced:!it||!at},{concat:function(e){var t,n,r,o,i,a=Fe(this),c=Qe(a,0),l=0;for(t=-1,r=arguments.length;t<r;t++)if(ct(i=-1===t?a:arguments[t])){if(l+(o=he(i.length))>rt)throw TypeError(ot);for(n=0;n<o;n++,l++)n in i&&Ye(c,l,i[n])}else{if(l>=rt)throw TypeError(ot);Ye(c,l++,i)}return c.length=l,c}});var lt=function(){var e=j(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t};function ut(e,t){return RegExp(e,t)}var st,dt,ft={UNSUPPORTED_Y:l((function(){var e=ut("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),BROKEN_CARET:l((function(){var e=ut("^r","gy");return e.lastIndex=2,null!=e.exec("str")}))},pt=RegExp.prototype.exec,ht=String.prototype.replace,gt=pt,yt=(st=/a/,dt=/b*/g,pt.call(st,"a"),pt.call(dt,"a"),0!==st.lastIndex||0!==dt.lastIndex),vt=ft.UNSUPPORTED_Y||ft.BROKEN_CARET,mt=void 0!==/()??/.exec("")[1];(yt||mt||vt)&&(gt=function(e){var t,n,r,o,i=this,a=vt&&i.sticky,c=lt.call(i),l=i.source,u=0,s=e;return a&&(-1===(c=c.replace("y","")).indexOf("g")&&(c+="g"),s=String(e).slice(i.lastIndex),i.lastIndex>0&&(!i.multiline||i.multiline&&"\n"!==e[i.lastIndex-1])&&(l="(?: "+l+")",s=" "+s,u++),n=new RegExp("^(?:"+l+")",c)),mt&&(n=new RegExp("^"+l+"$(?!\\s)",c)),yt&&(t=i.lastIndex),r=pt.call(a?n:i,s),a?r?(r.input=r.input.slice(u),r[0]=r[0].slice(u),r.index=i.lastIndex,i.lastIndex+=r[0].length):i.lastIndex=0:yt&&r&&(i.lastIndex=i.global?r.index+r[0].length:t),mt&&r&&r.length>1&&ht.call(r[0],n,(function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(r[o]=void 0)})),r});var bt=gt;Pe({target:"RegExp",proto:!0,forced:/./.exec!==bt},{exec:bt});var St=Xe("species"),wt=!l((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),xt="$0"==="a".replace(/./,"$0"),Et=Xe("replace"),kt=!!/./[Et]&&""===/./[Et]("a","$0"),At=!l((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2!==n.length||"a"!==n[0]||"b"!==n[1]})),Ot=function(e,t,n,r){var o=Xe(e),i=!l((function(){var t={};return t[o]=function(){return 7},7!=""[e](t)})),a=i&&!l((function(){var t=!1,n=/a/;return"split"===e&&((n={}).constructor={},n.constructor[St]=function(){return n},n.flags="",n[o]=/./[o]),n.exec=function(){return t=!0,null},n[o](""),!t}));if(!i||!a||"replace"===e&&(!wt||!xt||kt)||"split"===e&&!At){var c=/./[o],u=n(o,""[e],(function(e,t,n,r,o){return t.exec===bt?i&&!o?{done:!0,value:c.call(t,n,r)}:{done:!0,value:e.call(n,t,r)}:{done:!1}}),{REPLACE_KEEPS_$0:xt,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:kt}),s=u[0],d=u[1];ae(String.prototype,e,s),ae(RegExp.prototype,o,2==t?function(e,t){return d.call(e,this,t)}:function(e){return d.call(e,this)})}r&&I(RegExp.prototype[o],"sham",!0)},Tt=Object.is||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t},Lt=function(e,t){var n=e.exec;if("function"==typeof n){var r=n.call(e,t);if("object"!=typeof r)throw TypeError("RegExp exec method returned something other than an Object or null");return r}if("RegExp"!==g(e))throw TypeError("RegExp#exec called on incompatible receiver");return bt.call(e,t)};Ot("search",1,(function(e,t,n){return[function(t){var n=m(this),r=null==t?void 0:t[e];return void 0!==r?r.call(t,n):new RegExp(t)[e](String(n))},function(e){var r=n(t,e,this);if(r.done)return r.value;var o=j(e),i=String(this),a=o.lastIndex;Tt(a,0)||(o.lastIndex=0);var c=Lt(o,i);return Tt(o.lastIndex,a)||(o.lastIndex=a),null===c?-1:c.index}]}));var qt=Xe("match"),jt=function(e){var t;return S(e)&&(void 0!==(t=e[qt])?!!t:"RegExp"==g(e))},Ct=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e},Mt=Xe("species"),It=function(e){return function(t,n){var r,o,i=String(m(t)),a=fe(n),c=i.length;return a<0||a>=c?e?"":void 0:(r=i.charCodeAt(a))<55296||r>56319||a+1===c||(o=i.charCodeAt(a+1))<56320||o>57343?e?i.charAt(a):r:e?i.slice(a,a+2):o-56320+(r-55296<<10)+65536}},Dt={codeAt:It(!1),charAt:It(!0)}.charAt,Rt=function(e,t,n){return t+(n?Dt(e,t).length:1)},Pt=[].push,Nt=Math.min,Ft=4294967295,Yt=!l((function(){return!RegExp(Ft,"y")}));Ot("split",2,(function(e,t,n){var r;return r="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,n){var r=String(m(this)),o=void 0===n?Ft:n>>>0;if(0===o)return[];if(void 0===e)return[r];if(!jt(e))return t.call(r,e,o);for(var i,a,c,l=[],u=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),s=0,d=new RegExp(e.source,u+"g");(i=bt.call(d,r))&&!((a=d.lastIndex)>s&&(l.push(r.slice(s,i.index)),i.length>1&&i.index<r.length&&Pt.apply(l,i.slice(1)),c=i[0].length,s=a,l.length>=o));)d.lastIndex===i.index&&d.lastIndex++;return s===r.length?!c&&d.test("")||l.push(""):l.push(r.slice(s)),l.length>o?l.slice(0,o):l}:"0".split(void 0,0).length?function(e,n){return void 0===e&&0===n?[]:t.call(this,e,n)}:t,[function(t,n){var o=m(this),i=null==t?void 0:t[e];return void 0!==i?i.call(t,o,n):r.call(String(o),t,n)},function(e,o){var i=n(r,e,this,o,r!==t);if(i.done)return i.value;var a=j(e),c=String(this),l=function(e,t){var n,r=j(e).constructor;return void 0===r||null==(n=j(r)[Mt])?t:Ct(n)}(a,RegExp),u=a.unicode,s=(a.ignoreCase?"i":"")+(a.multiline?"m":"")+(a.unicode?"u":"")+(Yt?"y":"g"),d=new l(Yt?a:"^(?:"+a.source+")",s),f=void 0===o?Ft:o>>>0;if(0===f)return[];if(0===c.length)return null===Lt(d,c)?[c]:[];for(var p=0,h=0,g=[];h<c.length;){d.lastIndex=Yt?h:0;var y,v=Lt(d,Yt?c:c.slice(h));if(null===v||(y=Nt(he(d.lastIndex+(Yt?0:h)),c.length))===p)h=Rt(c,h,u);else{if(g.push(c.slice(p,h)),g.length===f)return g;for(var m=1;m<=v.length-1;m++)if(g.push(v[m]),g.length===f)return g;h=p=y}}return g.push(c.slice(p)),g}]}),!Yt);var _t=Object.keys||function(e){return we(e,xe)},Bt=Object.assign,Ut=Object.defineProperty,Gt=!Bt||l((function(){if(u&&1!==Bt({b:1},Bt(Ut({},"a",{enumerable:!0,get:function(){Ut(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach((function(e){t[e]=e})),7!=Bt({},e)[n]||_t(Bt({},t)).join("")!=r}))?function(e,t){for(var n=Fe(e),r=arguments.length,o=1,i=Ae.f,a=f.f;r>o;)for(var c,l=v(arguments[o++]),s=i?_t(l).concat(i(l)):_t(l),d=s.length,p=0;d>p;)c=s[p++],u&&!a.call(l,c)||(n[c]=l[c]);return n}:Bt;Pe({target:"Object",stat:!0,forced:Object.assign!==Gt},{assign:Gt});var Ht=tt("splice"),Vt=Math.max,Wt=Math.min,$t=9007199254740991,zt="Maximum allowed length exceeded";Pe({target:"Array",proto:!0,forced:!Ht},{splice:function(e,t){var n,r,o,i,a,c,l=Fe(this),u=he(l.length),s=ve(e,u),d=arguments.length;if(0===d?n=r=0:1===d?(n=0,r=u-s):(n=d-2,r=Wt(Vt(fe(t),0),u-s)),u+n-r>$t)throw TypeError(zt);for(o=Qe(l,r),i=0;i<r;i++)(a=s+i)in l&&Ye(o,i,l[a]);if(o.length=r,n<r){for(i=s;i<u-r;i++)c=i+n,(a=i+r)in l?l[c]=l[a]:delete l[c];for(i=u;i>u-r+n;i--)delete l[i-1]}else if(n>r)for(i=u-r;i>s;i--)c=i+n-1,(a=i+r-1)in l?l[c]=l[a]:delete l[c];for(i=0;i<n;i++)l[i+s]=arguments[i+2];return l.length=u-r+n,o}});var Kt=tt("slice"),Zt=Xe("species"),Xt=[].slice,Jt=Math.max;Pe({target:"Array",proto:!0,forced:!Kt},{slice:function(e,t){var n,r,o,i=b(this),a=he(i.length),c=ve(e,a),l=ve(void 0===t?a:t,a);if(Ne(i)&&("function"!=typeof(n=i.constructor)||n!==Array&&!Ne(n.prototype)?S(n)&&null===(n=n[Zt])&&(n=void 0):n=void 0,n===Array||void 0===n))return Xt.call(i,c,l);for(r=new(void 0===n?Array:n)(Jt(l-c,0)),o=0;c<l;c++,o++)c in i&&Ye(r,o,i[c]);return r.length=o,r}});var Qt,en=u?Object.defineProperties:function(e,t){j(e);for(var n,r=_t(t),o=r.length,i=0;o>i;)M.f(e,n=r[i++],t[n]);return e},tn=ue("document","documentElement"),nn=K("IE_PROTO"),rn=function(){},on=function(e){return"<script>"+e+"</"+"script>"},an=function(){try{Qt=document.domain&&new ActiveXObject("htmlfile")}catch(e){}var e,t;an=Qt?function(e){e.write(on("")),e.close();var t=e.parentWindow.Object;return e=null,t}(Qt):((t=O("iframe")).style.display="none",tn.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(on("document.F=Object")),e.close(),e.F);for(var n=xe.length;n--;)delete an.prototype[xe[n]];return an()};Z[nn]=!0;var cn=Object.create||function(e,t){var n;return null!==e?(rn.prototype=j(e),n=new rn,rn.prototype=null,n[nn]=e):n=an(),void 0===t?n:en(n,t)},ln=Xe("unscopables"),un=Array.prototype;null==un[ln]&&M.f(un,ln,{configurable:!0,value:cn(null)});var sn,dn=be.includes;Pe({target:"Array",proto:!0},{includes:function(e){return dn(this,e,arguments.length>1?arguments[1]:void 0)}}),sn="includes",un[ln][sn]=!0;var fn=function(e){if(jt(e))throw TypeError("The method doesn't accept regular expressions");return e},pn=Xe("match");Pe({target:"String",proto:!0,forced:!function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[pn]=!1,"/./"[e](t)}catch(e){}}return!1}("includes")},{includes:function(e){return!!~String(m(this)).indexOf(fn(e),arguments.length>1?arguments[1]:void 0)}});var hn,gn,yn=[].push,vn=function(e){var t=1==e,n=2==e,r=3==e,o=4==e,i=6==e,a=7==e,c=5==e||i;return function(l,u,s,d){for(var f,p,h=Fe(l),g=v(h),y=function(e,t,n){if(Ct(e),void 0===t)return e;switch(n){case 0:return function(){return e.call(t)};case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,o){return e.call(t,n,r,o)}}return function(){return e.apply(t,arguments)}}(u,s,3),m=he(g.length),b=0,S=d||Qe,w=t?S(l,m):n||a?S(l,0):void 0;m>b;b++)if((c||b in g)&&(p=y(f=g[b],b,h),e))if(t)w[b]=p;else if(p)switch(e){case 3:return!0;case 5:return f;case 6:return b;case 2:yn.call(w,f)}else switch(e){case 4:return!1;case 7:yn.call(w,f)}return i?-1:r||o?o:w}},mn={forEach:vn(0),map:vn(1),filter:vn(2),some:vn(3),every:vn(4),find:vn(5),findIndex:vn(6),filterOut:vn(7)}.forEach,bn=!!(gn=[]["forEach"])&&l((function(){gn.call(null,hn||function(){throw 1},1)}))?[].forEach:function(e){return mn(this,e,arguments.length>1?arguments[1]:void 0)};for(var Sn in{CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}){var wn=c[Sn],xn=wn&&wn.prototype;if(xn&&xn.forEach!==bn)try{I(xn,"forEach",bn)}catch(e){xn.forEach=bn}}var En="".repeat||function(e){var t=String(m(this)),n="",r=fe(e);if(r<0||r==1/0)throw RangeError("Wrong number of repetitions");for(;r>0;(r>>>=1)&&(t+=t))1&r&&(n+=t);return n},kn=1..toFixed,An=Math.floor,On=function(e,t,n){return 0===t?n:t%2==1?On(e,t-1,n*e):On(e*e,t/2,n)},Tn=function(e,t,n){for(var r=-1,o=n;++r<6;)o+=t*e[r],e[r]=o%1e7,o=An(o/1e7)},Ln=function(e,t){for(var n=6,r=0;--n>=0;)r+=e[n],e[n]=An(r/t),r=r%t*1e7},qn=function(e){for(var t=6,n="";--t>=0;)if(""!==n||0===t||0!==e[t]){var r=String(e[t]);n=""===n?r:n+En.call("0",7-r.length)+r}return n};function jn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=null,r=[];return location.search.substr(1).split("&").forEach((function(t){(r=t.split("="))[0]===e&&(n=decodeURIComponent(r[1]))})),null!==n?n:t}function Cn(e,t,n){var r,o,i=performance.now();(r=e.where((function(e){return function(e,t){var n=!1;""===e.date&&0==e.categories.length&&0==e.tags.length&&(n=!0);""!==e.date&&(r=e.date,o=t.date,r=new Date(r),o=new Date(o),n=r.getFullYear()===o.getFullYear()&&r.getMonth()===o.getMonth()&&r.getDate()===o.getDate());var r,o;e.categories.length>0&&(n=e.categories.every((function(e){return t.taxonomy.categories.includes(e)})));e.tags.length>0&&(n=e.tags.every((function(e){return t.taxonomy.tags.includes(e)})));return n}(n,e)})),console.debug("FlexSearch where(n = ".concat(r.length,"): ").concat(Fn(performance.now()-i))),""!==n.title||""!==n.content)?(o=""!==n.title&&""===n.content?[{field:"title",query:n.title}]:""===n.title&&""!==n.content?[{field:"content",query:n.content}]:[{field:"title",query:n.title,bool:"and"},{field:"content",query:n.content,bool:"or"}],e.search(o,n.limit).then((function(e){console.debug("FlexSearch search(n = ".concat(e.length,"): ").concat(Fn(performance.now()-i))),Mn(".search-results",e),console.debug("FlexSearch render(n = ".concat(e.length,"): ").concat(Fn(performance.now()-i)))}))):""===n.title&&""===n.content&&(Mn(".search-results",r.slice(0,n.limit)),console.debug("FlexSearch render(n = ".concat(r.length,"): ").concat(Fn(performance.now()-i))))}function Mn(e,t){if(Scholar.accessibilityDestruct(e),document.querySelector(e).innerHTML="",t.length<1){var n=document.createElement("p");n.appendChild(document.createTextNode(ScholarTranslation.SEARCH.EMPTY)),document.querySelector(e).appendChild(n)}for(var r=0;r<t.length;r++){var o=document.createElement("div"),i=document.createElement("h3"),a=document.createElement("a"),c=document.createElement("p");o.appendChild(i),o.appendChild(c),i.appendChild(a),a.textContent=t[r].title,a.setAttribute("href",t[r].url),c.appendChild(document.createTextNode(ScholarTranslation.GENERIC.AT+" ")),In(c,t[r].date),Dn(c,t[r].taxonomy.categories,"category",ScholarTranslation.GENERIC.IN),Dn(c,t[r].taxonomy.tags,"tag",ScholarTranslation.GENERIC.WITH),c.appendChild(document.createTextNode(".")),c.normalize(),document.querySelector(e).appendChild(o)}Scholar.accessibilityInit(e)}function In(e,t){var n=document.createElement("a");n.setAttribute("href","".concat(searchRoute,"/?date=").concat(dayjs(t).format("YYYY-MM-DD")));var r=document.createElement("time");r.setAttribute("datetime",t),r.appendChild(document.createTextNode(dayjs(t).format(function(e){var t={d:"DD",D:"ddd",j:"D",l:"dddd",N:"",S:"o",w:"d",z:"",W:"",F:"MMMM",m:"MM",M:"MMM",n:"M",t:"",L:"",o:"YYYY",Y:"YYYY",y:"YY",a:"a",A:"A",B:"",g:"h",G:"H",h:"hh",H:"HH",i:"mm",s:"ss",u:"",v:"SSS",e:"",I:"",O:"ZZ",P:"Z",T:"",Z:"",c:"",r:"",U:"X"," ":" "},n=e.split(""),r="";for(var o in n)r+=t[n[o]];return r}(systemDateformat.short)))),n.appendChild(r),e.appendChild(n)}function Dn(e,t,n,r){if(!(""===t||t.length<1)){e.appendChild(document.createTextNode(" ".concat(r," "))),("string"==typeof t||t instanceof String)&&(t=t.includes(" ")?t.split(" "):[t]);for(var o=0;o<t.length;o++){var i=document.createElement("a");i.classList.add(n),i.setAttribute("href","".concat(searchRoute,"/?").concat(n,"=").concat(t[o])),i.appendChild(document.createTextNode(t[o])),o>0&&o<t.length&&e.appendChild(document.createTextNode(", ")),e.appendChild(i)}}}function Rn(e,t){for(var n=0;n<t.length;n++)e.add({value:t[n],text:t[n].charAt(0).toUpperCase()+t[n].slice(1)})}function Pn(e,t){for(var n=[],r=0;r<t.length;r++)if(void 0!==t[r].taxonomy&&void 0!==t[r].taxonomy[e]&&t[r].taxonomy[e].length>0)for(var o=0;o<t[r].taxonomy[e].length;o++)n.includes(t[r].taxonomy[e][o])||n.push(t[r].taxonomy[e][o]);return n}function Nn(e,t){var n;return function(){var r=this,o=arguments;clearTimeout(n),n=setTimeout((function(){return e.apply(r,o)}),t)}}function Fn(e){var t=e.toFixed(2),n=(e/1e3).toFixed(1),r=(e/6e4).toFixed(1),o=(e/36e5).toFixed(1),i=(e/864e5).toFixed(1);return n<=0?t+" ms":n<60?n+" sec":r<60?r+" min":o<24?o+" hrs":i+" days"}function Yn(e){return(Yn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Pe({target:"Number",proto:!0,forced:kn&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!l((function(){kn.call({})}))},{toFixed:function(e){var t,n,r,o,i=function(e){if("number"!=typeof e&&"Number"!=g(e))throw TypeError("Incorrect invocation");return+e}(this),a=fe(e),c=[0,0,0,0,0,0],l="",u="0";if(a<0||a>20)throw RangeError("Incorrect fraction digits");if(i!=i)return"NaN";if(i<=-1e21||i>=1e21)return String(i);if(i<0&&(l="-",i=-i),i>1e-21)if(n=(t=function(e){for(var t=0,n=e;n>=4096;)t+=12,n/=4096;for(;n>=2;)t+=1,n/=2;return t}(i*On(2,69,1))-69)<0?i*On(2,-t,1):i/On(2,t,1),n*=4503599627370496,(t=52-t)>0){for(Tn(c,0,n),r=a;r>=7;)Tn(c,1e7,0),r-=7;for(Tn(c,On(10,r,1),0),r=t-1;r>=23;)Ln(c,1<<23),r-=23;Ln(c,1<<r),Tn(c,1,1),Ln(c,2),u=qn(c)}else Tn(c,0,n),Tn(c,1<<-t,0),u=qn(c)+En.call("0",a);return u=a>0?l+((o=u.length)<=a?"0."+En.call("0",a-o)+u:u.slice(0,o-a)+"."+u.slice(o-a)):l+u}}),Pe({target:"Object",stat:!0,forced:l((function(){_t(1)}))},{keys:function(e){return _t(Fe(e))}});var Bn=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.o=Object.assign({},this.defaults(),t)}var t,n,r;return t=e,(n=[{key:"load",value:function(){var e=this;document.addEventListener("DOMContentLoaded",(function(){e.setup()}))}},{key:"defaults",value:function(){return{replacement:"drawer",drawerSelector:"drawer-menu"}}},{key:"setup",value:function(){this.elementDrawer=document.querySelector(this.o.drawerSelector),(this.elementDrawer||this.elementDrawer.nodeType===Node.ELEMENT_NODE)&&(this.backdropAdd(),this.activeUnset(),this.elementOpen=document.querySelectorAll("[data-"+this.o.replacement+"-open]"),this.elementClose=document.querySelectorAll("[data-"+this.o.replacement+"-backdrop], [data-"+this.o.replacement+"-close]"),window.addEventListener("keydown",(function(e){switch(e.code){case"Escape":"true"===Scholar.tinyDrawerObj.elementDrawer.getAttribute("aria-checked")&&Scholar.toggleButtonState(Scholar.tinyDrawerObj.elementDrawer,"false")}}),!0),this.elementClose.forEach((function(e){e.addEventListener("click",(function(e){"true"===Scholar.tinyDrawerObj.elementDrawer.getAttribute("aria-checked")&&Scholar.toggleButtonState(Scholar.tinyDrawerObj.elementDrawer,"false")}),!0)})),this.observer=new MutationObserver((function(e){e.forEach((function(e){"attributes"==e.type&&("true"===e.target.getAttribute("aria-checked")?Scholar.tinyDrawerOpen(e.target):"false"===e.target.getAttribute("aria-checked")&&Scholar.tinyDrawerClose(e.target))}))})),this.observer.observe(this.elementDrawer,{attributes:!0}))}},{key:"activeUnset",value:function(){document.body.dataset[this.o.replacement]=""}},{key:"activeSet",value:function(){document.body.dataset[this.o.replacement]=!0}},{key:"offsetTopToVariable",value:function(){var e=document.body.getBoundingClientRect();this.top=-e.top}},{key:"open",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.activeSet(),this.offsetTopToVariable(),this.callback(e,"open"),document.querySelector(".drawer .drawer-inner").setAttribute("aria-expanded","true")}},{key:"close",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.activeUnset(),window.scrollTo(0,Math.abs(document.body.getBoundingClientRect().top)),this.callback(e,"close"),document.querySelector(".drawer .drawer-inner").setAttribute("aria-expanded","false")}},{key:"backdropAdd",value:function(){var e=document.createElement("div");e.dataset[this.o.replacement+"Backdrop"]="",document.body.appendChild(e),this.elementBackdrop=document.querySelector("[data-"+this.o.replacement+"-backdrop]")}},{key:"callback",value:function(e,t){void 0!==this.o.callback&&this.o.callback(e,t)}}])&&_n(t.prototype,n),r&&_n(t,r),e}();e.tinyDrawerObj=void 0,e.accessibilityDestruct=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",r=document.querySelectorAll("".concat(e,' [role="button"]')),o=0;o<r.length;++o)"target"in r[o].dataset?(r[o].removeEventListener("click",n),r[o].removeEventListener("keydown",n),r[o].removeEventListener("keyup",n)):(r[o].removeEventListener("click",t),r[o].removeEventListener("keydown",t),r[o].removeEventListener("keyup",t));var i=document.querySelectorAll("".concat(e," a[href]"));for(o=0;o<i.length;++o)i[o].removeEventListener("click",t),i[o].removeEventListener("keydown",t),i[o].removeEventListener("keyup",t)},e.accessibilityInit=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",r=document.querySelectorAll("".concat(e,' [role="button"]')),o=0;o<r.length;++o)"target"in r[o].dataset?(r[o].addEventListener("click",n),r[o].addEventListener("keydown",n),r[o].addEventListener("keyup",n)):(r[o].addEventListener("click",t),r[o].addEventListener("keydown",t),r[o].addEventListener("keyup",t));var i=document.querySelectorAll("".concat(e," a[href]"));for(o=0;o<i.length;++o)i[o].addEventListener("click",t),i[o].addEventListener("keydown",t),i[o].addEventListener("keyup",t);document.querySelector(".next-previous")&&document.querySelector("body").classList.contains("docs")&&window.addEventListener("keydown",(function(e){switch(e.code){case"ArrowLeft":document.querySelector(".next-previous article:first-of-type a")&&document.querySelector(".next-previous article:first-of-type a").click();break;case"ArrowRight":document.querySelector(".next-previous article:last-of-type a")&&document.querySelector(".next-previous article:last-of-type a").click()}}),!0)},e.buttonHandler=t,e.drawerInit=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return e.tinyDrawerObj=new Bn(t),e.tinyDrawerObj.load(),e.tinyDrawerObj},e.leaderLineInit=function(){var e=document.querySelectorAll("[data-links-to]");if(e.length>0){for(var t=0;t<e.length;t++)if(!(e[t].dataset.linksTo.length<1)){var n=JSON.parse(e[t].dataset.linksTo);if("object"==Yn(n))for(var r=0;r<n.length;r++){var o=new LeaderLine(e[t],document.getElementById(n[r]),{});"sequence-selvstendighet"==e[t].id&&"sequence-endringer-relasjoner"==document.getElementById(n[r]).id&&(o.color="rgba(30, 130, 250, 0.5)")}}var i=document.querySelectorAll(".sequence main article [role=list]");if(i.length>0)for(var a=0;a<i.length;a++){var c=i[a].getBoundingClientRect(),l=window.getComputedStyle(i[a]),u=document.createElement("div");u.style.position="absolute",u.style.top=c.top+"px",u.style.right=c.right+"px",u.style.bottom=c.bottom+"px",u.style.left=c.left+"px",u.style.width=c.width+"px",u.style.height=c.height+"px",u.style.backgroundColor=l.getPropertyValue("background-color"),i[a].style.backgroundColor="transparent",document.querySelector(".sequence main article").append(u)}document.querySelectorAll(".leader-line").forEach((function(e){document.querySelector(".sequence main article").append(e)}))}},e.mobileInit=function(){var e=document.querySelector("main"),t=document.querySelector("aside.sidebar"),n=document.querySelector("nav[role='navigation'].links");e&&t&&new MutationObserver((function(t){t.forEach((function(t){"attributes"==t.type&&("true"===t.target.getAttribute("aria-checked")?(e.style.display="none",t.target.style.display="flex"):"false"===t.target.getAttribute("aria-checked")&&(t.target.style.display="none",e.style.display="flex"))}))})).observe(t,{attributes:!0}),n&&new MutationObserver((function(e){e.forEach((function(e){"attributes"==e.type&&("true"===e.target.getAttribute("aria-checked")?n.style.display="block":"false"===e.target.getAttribute("aria-checked")&&(n.style.display="none"))}))})).observe(n,{attributes:!0})},e.searchFieldInit=function(e,t,n){if(document.querySelector("#query")){var r,o,i,a,c,l,u=performance.now();o="main > aside.search",i="main > section",a=document.querySelector(o),c=document.querySelector(i),l=new MutationObserver((function(e){e.forEach((function(e){var t=a.getAttribute(e.attributeName);"true"==t?(c.style.setProperty("display","none"),a.style.setProperty("display","block")):"false"==t&&(c.style.setProperty("display","block"),a.style.removeProperty("display"))}))})),a&&l.observe(a,{attributes:!0});var s=n;s.doc={id:"url",field:t},(r=new FlexSearch(s)).add(e),console.debug("FlexSearch add(n = ".concat(e.length,"): ").concat(Fn(performance.now()-u))),document.querySelector("#query").addEventListener("keyup",Nn((function(e){var t=performance.now(),n=e.srcElement.value;r.search(n,s.limit).then((function(e){console.debug("FlexSearch search(n = ".concat(e.length,"): ").concat(Fn(performance.now()-t))),Mn(".search-results",e),console.debug("FlexSearch render(n = ".concat(e.length,"): ").concat(Fn(performance.now()-t)))}))}),200)),document.querySelector("#query").addEventListener("focus",(function(e){e.target.setAttribute("aria-expanded","true"),document.querySelector("main aside.search").setAttribute("aria-expanded","true")})),document.querySelector("#query").addEventListener("blur",(function(e){e.target.setAttribute("aria-expanded","false")}))}},e.searchPageInit=function(e,t,n){Rn(window.categoriesSelector,Pn("categories",e)),Rn(window.tagsSelector,Pn("tags",e));var r,o=performance.now(),i=n;i.doc={id:"url",field:t};var a={title:jn("title",""),date:jn("date",""),categories:jn("category",""),tags:jn("tag",""),content:decodeURIComponent(jn("content","")),limit:i.limit||10};(r=new FlexSearch(i)).add(e),console.debug("FlexSearch add(n = ".concat(e.length,"): ").concat(Fn(performance.now()-o))),""!==a.title&&(document.querySelector(".search-query #title").value=a.title),""!==a.date&&(document.querySelector(".search-query #date").value=a.date),""!==a.categories?(a.categories=a.categories.split(","),window.categoriesSelector.setValue(a.categories)):a.categories=[],""!==a.tags?(a.tags=a.tags.split(","),window.tagsSelector.setValue(a.tags)):a.tags=[],""!==a.content&&(document.querySelector(".search-query #content").value=a.content);var c,l=Object.assign({},a);delete l.limit,c=l,Object.keys(c).every((function(e){return!Object.keys(c[e]).length}))||Cn(r,t,a),document.querySelector(".search-query #title").addEventListener("keyup",Nn((function(e){a.title=e.srcElement.value,Cn(r,t,a)}),200)),document.querySelector(".search-query #date").addEventListener("change",(function(e){a.date=e.srcElement.value,Cn(r,t,a)})),void 0!==window.categoriesSelector&&(window.categoriesSelector.on("selectr.select",(function(e){e.selected&&(a.categories.push(e.value),Cn(r,t,a))})),window.categoriesSelector.on("selectr.deselect",(function(e){e.selected||(-1!==r&&a.categories.splice(a.categories.indexOf(e.value),1),Cn(r,t,a))}))),void 0!==window.tagsSelector&&(window.tagsSelector.on("selectr.select",(function(e){e.selected&&(a.tags.push(e.value),Cn(r,t,a))})),window.tagsSelector.on("selectr.deselect",(function(e){e.selected||(-1!==r&&a.tags.splice(a.tags.indexOf(e.value),1),Cn(r,t,a))}))),document.querySelector(".search-query #content").addEventListener("keyup",Nn((function(e){a.content=e.srcElement.value,Cn(r,t,a)}),200))},e.tinyDrawerClose=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=t?t.target:null;e.tinyDrawerObj.close(n)},e.tinyDrawerOpen=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=t?t.target:null;e.tinyDrawerObj.open(n)},e.toggleButtonState=r,e.toggleHandler=n,Object.defineProperty(e,"__esModule",{value:!0})}));
